<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Young Eun Jeon, Jeong-Wook Lee, and Jung-In Seo">

<title>13&nbsp; XGBoost – Machine Learning with Hyperparameter Tuning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./GBM.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-1092c56c6cadf2eb47b1bc8063ab382a.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ef31e3f4d9d6eef55c54bdf6b9cd68ca.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="styles/styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html">Welcome</a></li><li class="breadcrumb-item"><a href="./XGBoost.html"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">XGBoost</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Machine Learning with Hyperparameter Tuning</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/JJJJYE/ML_book2" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./KNN.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Nearest Neighborhood Algorithm</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Cluster Analysis based on k-means</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Decision_tree.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Decision Tree</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SVM_li.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Support Vector Machine with Linear Kernel</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SVM_po.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Support Vector Machine with Polynomial Kernel</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SVM_rd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Support Vector Machine with Radial Basis Kernel</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./LASSO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">LASSO Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Ridge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Ridge Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Elasticnet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Elastic Net Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./RF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Random Forest</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./AdaBoost.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">AdaBoost</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./GBM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Gradient Boosting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./XGBoost.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">XGBoost</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#데이터-불러오기" id="toc-데이터-불러오기" class="nav-link active" data-scroll-target="#데이터-불러오기"><span class="header-section-number">13.1</span> 데이터 불러오기</a></li>
  <li><a href="#데이터-전처리-i" id="toc-데이터-전처리-i" class="nav-link" data-scroll-target="#데이터-전처리-i"><span class="header-section-number">13.2</span> 데이터 전처리 I</a></li>
  <li><a href="#데이터-탐색" id="toc-데이터-탐색" class="nav-link" data-scroll-target="#데이터-탐색"><span class="header-section-number">13.3</span> 데이터 탐색</a></li>
  <li><a href="#데이터-분할" id="toc-데이터-분할" class="nav-link" data-scroll-target="#데이터-분할"><span class="header-section-number">13.4</span> 데이터 분할</a></li>
  <li><a href="#데이터-전처리-ii" id="toc-데이터-전처리-ii" class="nav-link" data-scroll-target="#데이터-전처리-ii"><span class="header-section-number">13.5</span> 데이터 전처리 II</a></li>
  <li><a href="#모형-훈련" id="toc-모형-훈련" class="nav-link" data-scroll-target="#모형-훈련"><span class="header-section-number">13.6</span> 모형 훈련</a></li>
  <li><a href="#모형-평가" id="toc-모형-평가" class="nav-link" data-scroll-target="#모형-평가"><span class="header-section-number">13.7</span> 모형 평가</a>
  <ul class="collapse">
  <li><a href="#confusionmatrix" id="toc-confusionmatrix" class="nav-link" data-scroll-target="#confusionmatrix"><span class="header-section-number">13.7.1</span> ConfusionMatrix</a></li>
  <li><a href="#roc-곡선" id="toc-roc-곡선" class="nav-link" data-scroll-target="#roc-곡선"><span class="header-section-number">13.7.2</span> ROC 곡선</a></li>
  <li><a href="#향상-차트" id="toc-향상-차트" class="nav-link" data-scroll-target="#향상-차트"><span class="header-section-number">13.7.3</span> 향상 차트</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/JJJJYE/ML_book2/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html">Welcome</a></li><li class="breadcrumb-item"><a href="./XGBoost.html"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">XGBoost</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">XGBoost</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<blockquote class="blockquote">
<p>XGBoost의 장점</p>
</blockquote>
<ul>
<li>병렬 처리를 사용하여 Gradient Boosting보다 속도가 빠르다.</li>
<li>Gradient Boosting보다 정확도가 높다.</li>
<li>유연성이 좋다.</li>
<li>조기 종료가 가능하다.</li>
<li>규제를 통해 과적합을 방지할 수 있다.</li>
</ul>
<p><br></p>
<blockquote class="blockquote">
<p>XGBoost의 단점</p>
</blockquote>
<ul>
<li>Gradient Boosting보다 학습시간이 빠를 뿐 다른 기법에 비하면 느리다.</li>
<li>초모수(Hyperparameter)가 많다.
<ul>
<li>적절하지 않은 초모수 값을 할당하면 오히려 성능이 나빠질 수 있다.</li>
</ul></li>
</ul>
<p><br></p>
<blockquote class="blockquote">
<p>실습 자료 : 1912년 4월 15일 타이타닉호 침몰 당시 탑승객들의 정보를 기록한 데이터셋이며, 총 11개의 변수를 포함하고 있다. 이 자료에서 <strong>Target</strong>은 <code>Survived</code>이다.</p>
</blockquote>
<center>
<img src="./image/그림_titanic.png" class="img-fluid">
</center>
<p><br></p>
<center>
<img src="./image/Titanic_표.png" width="400" height="400">
</center>
<p><br></p>
<section id="데이터-불러오기" class="level2" data-number="13.1">
<h2 data-number="13.1" class="anchored" data-anchor-id="데이터-불러오기"><span class="header-section-number">13.1</span> 데이터 불러오기</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(<span class="st">"data.table"</span>, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">"tidyverse"</span>, </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">"dplyr"</span>, <span class="st">"tidyr"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"ggplot2"</span>, <span class="st">"GGally"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">"caret"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>               <span class="st">"xgboost"</span>,                                               <span class="co"># For xgb.importance</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>               <span class="st">"doParallel"</span>, <span class="st">"parallel"</span>)                                <span class="co"># For 병렬 처리</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">registerDoParallel</span>(<span class="at">cores=</span><span class="fu">detectCores</span>())                                 <span class="co"># 사용할 Core 개수 지정  </span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>titanic <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">"../Titanic.csv"</span>)                                      <span class="co"># 데이터 불러오기</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>titanic <span class="sc">%&gt;%</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  as_tibble</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 891 × 11
   Survived Pclass Name                                                Sex      Age SibSp Parch Ticket            Fare Cabin  Embarked
      &lt;int&gt;  &lt;int&gt; &lt;chr&gt;                                               &lt;chr&gt;  &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;   
 1        0      3 Braund, Mr. Owen Harris                             male      22     1     0 A/5 21171         7.25 ""     S       
 2        1      1 Cumings, Mrs. John Bradley (Florence Briggs Thayer) female    38     1     0 PC 17599         71.3  "C85"  C       
 3        1      3 Heikkinen, Miss. Laina                              female    26     0     0 STON/O2. 3101282  7.92 ""     S       
 4        1      1 Futrelle, Mrs. Jacques Heath (Lily May Peel)        female    35     1     0 113803           53.1  "C123" S       
 5        0      3 Allen, Mr. William Henry                            male      35     0     0 373450            8.05 ""     S       
 6        0      3 Moran, Mr. James                                    male      NA     0     0 330877            8.46 ""     Q       
 7        0      1 McCarthy, Mr. Timothy J                             male      54     0     0 17463            51.9  "E46"  S       
 8        0      3 Palsson, Master. Gosta Leonard                      male       2     3     1 349909           21.1  ""     S       
 9        1      3 Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)   female    27     0     2 347742           11.1  ""     S       
10        1      2 Nasser, Mrs. Nicholas (Adele Achem)                 female    14     1     0 237736           30.1  ""     C       
# ℹ 881 more rows</code></pre>
</div>
</div>
</section>
<section id="데이터-전처리-i" class="level2" data-number="13.2">
<h2 data-number="13.2" class="anchored" data-anchor-id="데이터-전처리-i"><span class="header-section-number">13.2</span> 데이터 전처리 I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>titanic <span class="sc">%&lt;&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span>                                                      <span class="co"># Data Frame 형태로 변환 </span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Survived =</span> <span class="fu">ifelse</span>(Survived <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>))                 <span class="co"># Target을 문자형 변수로 변환</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Convert to Factor</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>fac.col <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pclass"</span>, <span class="st">"Sex"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>             <span class="co"># Target</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Survived"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>titanic <span class="ot">&lt;-</span> titanic <span class="sc">%&gt;%</span> </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(fac.col, as.factor)                                         <span class="co"># 범주형으로 변환</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(titanic)                                                        <span class="co"># 데이터 구조 확인</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 891
Columns: 11
$ Survived &lt;fct&gt; no, yes, yes, yes, no, no, no, no, yes, yes, yes, yes, no, no, no, yes, no, yes, no, yes, no, yes, yes, yes, no, yes, no, no, yes, no, no, yes, yes, no, no, no, yes, no, no, yes, no…
$ Pclass   &lt;fct&gt; 3, 1, 3, 1, 3, 3, 1, 3, 3, 2, 3, 1, 3, 3, 3, 2, 3, 2, 3, 3, 2, 2, 3, 1, 3, 3, 3, 1, 3, 3, 1, 1, 3, 2, 1, 1, 3, 3, 3, 3, 3, 2, 3, 2, 3, 3, 3, 3, 3, 3, 3, 3, 1, 2, 1, 1, 2, 3, 2, 3, 3…
$ Name     &lt;chr&gt; "Braund, Mr. Owen Harris", "Cumings, Mrs. John Bradley (Florence Briggs Thayer)", "Heikkinen, Miss. Laina", "Futrelle, Mrs. Jacques Heath (Lily May Peel)", "Allen, Mr. William Henry…
$ Sex      &lt;fct&gt; male, female, female, female, male, male, male, male, female, female, female, female, male, male, female, female, male, male, female, female, male, male, female, male, female, femal…
$ Age      &lt;dbl&gt; 22.0, 38.0, 26.0, 35.0, 35.0, NA, 54.0, 2.0, 27.0, 14.0, 4.0, 58.0, 20.0, 39.0, 14.0, 55.0, 2.0, NA, 31.0, NA, 35.0, 34.0, 15.0, 28.0, 8.0, 38.0, NA, 19.0, NA, NA, 40.0, NA, NA, 66.…
$ SibSp    &lt;int&gt; 1, 1, 0, 1, 0, 0, 0, 3, 0, 1, 1, 0, 0, 1, 0, 0, 4, 0, 1, 0, 0, 0, 0, 0, 3, 1, 0, 3, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 2, 1, 1, 1, 0, 1, 0, 0, 1, 0, 2, 1, 4, 0, 1, 1, 0, 0, 0, 0, 1, 5, 0…
$ Parch    &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 1, 0, 0, 5, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 2, 0…
$ Ticket   &lt;chr&gt; "A/5 21171", "PC 17599", "STON/O2. 3101282", "113803", "373450", "330877", "17463", "349909", "347742", "237736", "PP 9549", "113783", "A/5. 2151", "347082", "350406", "248706", "38…
$ Fare     &lt;dbl&gt; 7.2500, 71.2833, 7.9250, 53.1000, 8.0500, 8.4583, 51.8625, 21.0750, 11.1333, 30.0708, 16.7000, 26.5500, 8.0500, 31.2750, 7.8542, 16.0000, 29.1250, 13.0000, 18.0000, 7.2250, 26.0000,…
$ Cabin    &lt;chr&gt; "", "C85", "", "C123", "", "", "E46", "", "", "", "G6", "C103", "", "", "", "", "", "", "", "", "", "D56", "", "A6", "", "", "", "C23 C25 C27", "", "", "", "B78", "", "", "", "", ""…
$ Embarked &lt;chr&gt; "S", "C", "S", "S", "S", "Q", "S", "S", "S", "C", "S", "S", "S", "S", "S", "S", "Q", "S", "S", "C", "S", "S", "Q", "S", "S", "S", "C", "S", "Q", "S", "C", "C", "Q", "S", "C", "S", "…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Generate New Variable</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>titanic <span class="ot">&lt;-</span> titanic <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">FamSize =</span> SibSp <span class="sc">+</span> Parch)                                       <span class="co"># "FamSize = 형제 및 배우자 수 + 부모님 및 자녀 수"로 가족 수를 의미하는 새로운 변수</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(titanic)                                                        <span class="co"># 데이터 구조 확인</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 891
Columns: 12
$ Survived &lt;fct&gt; no, yes, yes, yes, no, no, no, no, yes, yes, yes, yes, no, no, no, yes, no, yes, no, yes, no, yes, yes, yes, no, yes, no, no, yes, no, no, yes, yes, no, no, no, yes, no, no, yes, no…
$ Pclass   &lt;fct&gt; 3, 1, 3, 1, 3, 3, 1, 3, 3, 2, 3, 1, 3, 3, 3, 2, 3, 2, 3, 3, 2, 2, 3, 1, 3, 3, 3, 1, 3, 3, 1, 1, 3, 2, 1, 1, 3, 3, 3, 3, 3, 2, 3, 2, 3, 3, 3, 3, 3, 3, 3, 3, 1, 2, 1, 1, 2, 3, 2, 3, 3…
$ Name     &lt;chr&gt; "Braund, Mr. Owen Harris", "Cumings, Mrs. John Bradley (Florence Briggs Thayer)", "Heikkinen, Miss. Laina", "Futrelle, Mrs. Jacques Heath (Lily May Peel)", "Allen, Mr. William Henry…
$ Sex      &lt;fct&gt; male, female, female, female, male, male, male, male, female, female, female, female, male, male, female, female, male, male, female, female, male, male, female, male, female, femal…
$ Age      &lt;dbl&gt; 22.0, 38.0, 26.0, 35.0, 35.0, NA, 54.0, 2.0, 27.0, 14.0, 4.0, 58.0, 20.0, 39.0, 14.0, 55.0, 2.0, NA, 31.0, NA, 35.0, 34.0, 15.0, 28.0, 8.0, 38.0, NA, 19.0, NA, NA, 40.0, NA, NA, 66.…
$ SibSp    &lt;int&gt; 1, 1, 0, 1, 0, 0, 0, 3, 0, 1, 1, 0, 0, 1, 0, 0, 4, 0, 1, 0, 0, 0, 0, 0, 3, 1, 0, 3, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 2, 1, 1, 1, 0, 1, 0, 0, 1, 0, 2, 1, 4, 0, 1, 1, 0, 0, 0, 0, 1, 5, 0…
$ Parch    &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 1, 0, 0, 5, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 2, 0…
$ Ticket   &lt;chr&gt; "A/5 21171", "PC 17599", "STON/O2. 3101282", "113803", "373450", "330877", "17463", "349909", "347742", "237736", "PP 9549", "113783", "A/5. 2151", "347082", "350406", "248706", "38…
$ Fare     &lt;dbl&gt; 7.2500, 71.2833, 7.9250, 53.1000, 8.0500, 8.4583, 51.8625, 21.0750, 11.1333, 30.0708, 16.7000, 26.5500, 8.0500, 31.2750, 7.8542, 16.0000, 29.1250, 13.0000, 18.0000, 7.2250, 26.0000,…
$ Cabin    &lt;chr&gt; "", "C85", "", "C123", "", "", "E46", "", "", "", "G6", "C103", "", "", "", "", "", "", "", "", "", "D56", "", "A6", "", "", "", "C23 C25 C27", "", "", "", "B78", "", "", "", "", ""…
$ Embarked &lt;chr&gt; "S", "C", "S", "S", "S", "Q", "S", "S", "S", "C", "S", "S", "S", "S", "S", "S", "Q", "S", "S", "C", "S", "S", "Q", "S", "S", "S", "C", "S", "Q", "S", "C", "C", "Q", "S", "C", "S", "…
$ FamSize  &lt;int&gt; 1, 1, 0, 1, 0, 0, 0, 4, 2, 1, 2, 0, 0, 6, 0, 0, 5, 0, 1, 0, 0, 0, 0, 0, 4, 6, 0, 5, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 2, 1, 1, 1, 0, 3, 0, 0, 1, 0, 2, 1, 5, 0, 1, 1, 1, 0, 0, 0, 3, 7, 0…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Select Variables used for Analysis</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>titanic1 <span class="ot">&lt;-</span> titanic <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Survived, Pclass, Sex, Age, Fare, FamSize)              <span class="co"># 분석에 사용할 변수 선택</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(titanic1)                                                       <span class="co"># 데이터 구조 확인</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 891
Columns: 6
$ Survived &lt;fct&gt; no, yes, yes, yes, no, no, no, no, yes, yes, yes, yes, no, no, no, yes, no, yes, no, yes, no, yes, yes, yes, no, yes, no, no, yes, no, no, yes, yes, no, no, no, yes, no, no, yes, no…
$ Pclass   &lt;fct&gt; 3, 1, 3, 1, 3, 3, 1, 3, 3, 2, 3, 1, 3, 3, 3, 2, 3, 2, 3, 3, 2, 2, 3, 1, 3, 3, 3, 1, 3, 3, 1, 1, 3, 2, 1, 1, 3, 3, 3, 3, 3, 2, 3, 2, 3, 3, 3, 3, 3, 3, 3, 3, 1, 2, 1, 1, 2, 3, 2, 3, 3…
$ Sex      &lt;fct&gt; male, female, female, female, male, male, male, male, female, female, female, female, male, male, female, female, male, male, female, female, male, male, female, male, female, femal…
$ Age      &lt;dbl&gt; 22.0, 38.0, 26.0, 35.0, 35.0, NA, 54.0, 2.0, 27.0, 14.0, 4.0, 58.0, 20.0, 39.0, 14.0, 55.0, 2.0, NA, 31.0, NA, 35.0, 34.0, 15.0, 28.0, 8.0, 38.0, NA, 19.0, NA, NA, 40.0, NA, NA, 66.…
$ Fare     &lt;dbl&gt; 7.2500, 71.2833, 7.9250, 53.1000, 8.0500, 8.4583, 51.8625, 21.0750, 11.1333, 30.0708, 16.7000, 26.5500, 8.0500, 31.2750, 7.8542, 16.0000, 29.1250, 13.0000, 18.0000, 7.2250, 26.0000,…
$ FamSize  &lt;int&gt; 1, 1, 0, 1, 0, 0, 0, 4, 2, 1, 2, 0, 0, 6, 0, 0, 5, 0, 1, 0, 0, 0, 0, 0, 4, 6, 0, 5, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 2, 1, 1, 1, 0, 3, 0, 0, 1, 0, 2, 1, 5, 0, 1, 1, 1, 0, 0, 0, 3, 7, 0…</code></pre>
</div>
</div>
</section>
<section id="데이터-탐색" class="level2" data-number="13.3">
<h2 data-number="13.3" class="anchored" data-anchor-id="데이터-탐색"><span class="header-section-number">13.3</span> 데이터 탐색</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpairs</span>(titanic1,                                        </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">colour =</span> Survived)) <span class="sc">+</span>                         <span class="co"># Target의 범주에 따라 색깔을 다르게 표현</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpairs</span>(titanic1,                                     </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">colour =</span> Survived, <span class="at">alpha =</span> <span class="fl">0.8</span>)) <span class="sc">+</span>            <span class="co"># Target의 범주에 따라 색깔을 다르게 표현</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"purple"</span>,<span class="st">"cyan4"</span>)) <span class="sc">+</span>     <span class="co"># 특정 색깔 지정</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"purple"</span>,<span class="st">"cyan4"</span>)) <span class="sc">+</span>       <span class="co"># 특정 색깔 지정</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="데이터-분할" class="level2" data-number="13.4">
<h2 data-number="13.4" class="anchored" data-anchor-id="데이터-분할"><span class="header-section-number">13.4</span> 데이터 분할</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Partition (Training Dataset : Test Dataset = 7:3)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>y      <span class="ot">&lt;-</span> titanic1<span class="sc">$</span>Survived                           <span class="co"># Target</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">200</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>ind    <span class="ot">&lt;-</span> <span class="fu">createDataPartition</span>(y, <span class="at">p =</span> <span class="fl">0.7</span>, <span class="at">list  =</span>T)   <span class="co"># Index를 이용하여 7:3으로 분할</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>titanic.trd <span class="ot">&lt;-</span> titanic1[ind<span class="sc">$</span>Resample1,]               <span class="co"># Training Dataset</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>titanic.ted <span class="ot">&lt;-</span> titanic1[<span class="sc">-</span>ind<span class="sc">$</span>Resample1,]              <span class="co"># Test Dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="데이터-전처리-ii" class="level2" data-number="13.5">
<h2 data-number="13.5" class="anchored" data-anchor-id="데이터-전처리-ii"><span class="header-section-number">13.5</span> 데이터 전처리 II</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imputation</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>titanic.trd.Imp <span class="ot">&lt;-</span> titanic.trd <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Age =</span> <span class="fu">replace_na</span>(Age, <span class="fu">mean</span>(Age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))                 <span class="co"># 평균으로 결측값 대체</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>titanic.ted.Imp <span class="ot">&lt;-</span> titanic.ted <span class="sc">%&gt;%</span> </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Age =</span> <span class="fu">replace_na</span>(Age, <span class="fu">mean</span>(titanic.trd<span class="sc">$</span>Age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))     <span class="co"># Training Dataset을 이용하여 결측값 대체</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(titanic.trd.Imp)                                                 <span class="co"># 데이터 구조 확인</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 625
Columns: 6
$ Survived &lt;fct&gt; no, yes, yes, no, no, no, yes, yes, yes, yes, no, no, yes, no, yes, no, yes, no, no, no, yes, no, no, yes, yes, no, no, no, no, no, yes, no, no, no, yes, no, yes, no, no, no, yes, n…
$ Pclass   &lt;fct&gt; 3, 3, 1, 3, 3, 3, 3, 2, 3, 1, 3, 3, 2, 3, 3, 2, 1, 3, 3, 1, 3, 3, 1, 1, 3, 2, 1, 1, 3, 3, 3, 3, 2, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 3, 3, 1, 3, 1, 3, 3, 3, 3, 3, 3, 2, 3, 3, 3, 1, 2, 3…
$ Sex      &lt;fct&gt; male, female, female, male, male, male, female, female, female, female, male, female, male, female, female, male, male, female, male, male, female, male, male, female, female, male,…
$ Age      &lt;dbl&gt; 22.00000, 26.00000, 35.00000, 35.00000, 29.93737, 2.00000, 27.00000, 14.00000, 4.00000, 58.00000, 39.00000, 14.00000, 29.93737, 31.00000, 29.93737, 35.00000, 28.00000, 8.00000, 29.9…
$ Fare     &lt;dbl&gt; 7.2500, 7.9250, 53.1000, 8.0500, 8.4583, 21.0750, 11.1333, 30.0708, 16.7000, 26.5500, 31.2750, 7.8542, 13.0000, 18.0000, 7.2250, 26.0000, 35.5000, 21.0750, 7.2250, 263.0000, 7.8792,…
$ FamSize  &lt;int&gt; 1, 0, 1, 0, 0, 4, 2, 1, 2, 0, 6, 0, 0, 1, 0, 0, 0, 4, 0, 5, 0, 0, 0, 1, 0, 0, 1, 1, 0, 2, 1, 1, 1, 0, 0, 1, 0, 2, 1, 5, 1, 1, 0, 7, 0, 0, 5, 0, 2, 7, 1, 0, 0, 0, 2, 0, 0, 0, 0, 0, 3…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(titanic.ted.Imp)                                                 <span class="co"># 데이터 구조 확인</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 266
Columns: 6
$ Survived &lt;fct&gt; yes, no, no, yes, no, yes, yes, yes, yes, yes, no, no, yes, yes, no, yes, no, yes, yes, no, yes, no, no, no, no, no, no, yes, yes, no, no, no, no, no, no, no, no, no, no, yes, no, n…
$ Pclass   &lt;fct&gt; 1, 1, 3, 2, 3, 2, 3, 3, 3, 2, 3, 3, 2, 2, 3, 2, 1, 3, 2, 3, 3, 2, 2, 3, 3, 3, 3, 1, 2, 2, 3, 3, 3, 3, 3, 2, 3, 2, 2, 2, 3, 3, 2, 1, 3, 1, 3, 2, 1, 3, 3, 3, 3, 3, 3, 3, 3, 1, 3, 1, 3…
$ Sex      &lt;fct&gt; female, male, male, female, male, male, female, female, male, female, male, male, female, female, male, female, male, male, female, male, female, male, male, male, male, male, male,…
$ Age      &lt;dbl&gt; 38.00000, 54.00000, 20.00000, 55.00000, 2.00000, 34.00000, 15.00000, 38.00000, 29.93737, 3.00000, 29.93737, 21.00000, 29.00000, 21.00000, 28.50000, 5.00000, 45.00000, 29.93737, 29.0…
$ Fare     &lt;dbl&gt; 71.2833, 51.8625, 8.0500, 16.0000, 29.1250, 13.0000, 8.0292, 31.3875, 7.2292, 41.5792, 8.0500, 7.8000, 26.0000, 10.5000, 7.2292, 27.7500, 83.4750, 15.2458, 10.5000, 8.1583, 7.9250, …
$ FamSize  &lt;int&gt; 1, 0, 0, 0, 5, 0, 0, 6, 0, 3, 0, 0, 1, 0, 0, 3, 1, 2, 0, 0, 6, 0, 0, 0, 0, 4, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 6, 2, 1, 0, 0, 1, 0, 2, 0, 0, 0, 0, 1, 0, 0, 1, 5, 2, 5, 0, 5, 0, 4, 0, 6…</code></pre>
</div>
</div>
</section>
<section id="모형-훈련" class="level2" data-number="13.6">
<h2 data-number="13.6" class="anchored" data-anchor-id="모형-훈련"><span class="header-section-number">13.6</span> 모형 훈련</h2>
<p>Boosting은 다수의 약한 학습자(간단하면서 성능이 낮은 예측 모형)을 순차적으로 학습하는 앙상블 기법이다. Boosting의 특징은 이전 모형의 오차를 반영하여 다음 모형을 생성하며, 오차를 개선하는 방향으로 학습을 수행한다.</p>
<center>
<img src="./image/boosting.png" class="img-fluid">
</center>
<p><br></p>
<p>XGBoost는 Extreme Gradient Boosting의 약어로 Gradient Boosting의 단점을 해결하기 위해 제안되었다.<br>
Package <code>"caret"</code>은 통합 API를 통해 R로 기계 학습을 실행할 수 있는 매우 실용적인 방법을 제공한다. Package <code>"caret"</code>에서는 초모수의 최적의 조합을 찾는 방법으로 그리드 검색(Grid Search), 랜덤 검색(Random Search), 직접 탐색 범위 설정이 있다. 여기서는 초모수 <code>eta</code>, <code>max_depth</code>, <code>gamma</code>, <code>colsample_bytree</code>, <code>min_child_weight</code>, <code>subsample</code>, <code>nrounds</code>의 최적의 조합값을 찾기 위해 그리드 검색을 수행하였고, 이를 기반으로 직접 탐색 범위를 설정하였다. 아래는 그리드 검색을 수행하였을 때 결과이다.</p>
<center>
<img src="./image/xgb.hy.png" class="img-fluid" style="width:70.0%">
</center>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>fitControl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">"cv"</span>, <span class="at">number =</span> <span class="dv">5</span>, <span class="co"># 5-Fold Cross Validation (5-Fold CV)</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">allowParallel =</span> <span class="cn">TRUE</span>)      <span class="co"># 병렬 처리</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">200</span>)                                         <span class="co"># For CV</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>xgb.fit <span class="ot">&lt;-</span> <span class="fu">train</span>(Survived <span class="sc">~</span> ., <span class="at">data =</span> titanic.trd.Imp, </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trControl =</span> fitControl ,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">"xgbTree"</span>)                </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>Caution!</code> Package <code>"caret"</code>을 통해 <code>"xgbTree"</code>를 수행하는 경우, 함수 <code>train(Target ~ 예측 변수, data)</code>를 사용하면 범주형 예측 변수는 자동적으로 더미 변환이 된다. 범주형 예측 변수에 대해 더미 변환을 수행하고 싶지 않다면 함수 <code>train(x = 예측 변수만 포함하는 데이터셋, y = Target만 포함하는 데이터셋)</code>를 사용한다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>xgb.fit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>eXtreme Gradient Boosting 

625 samples
  5 predictor
  2 classes: 'no', 'yes' 

No pre-processing
Resampling: Cross-Validated (5 fold) 
Summary of sample sizes: 500, 500, 500, 500, 500 
Resampling results across tuning parameters:

  eta  max_depth  colsample_bytree  subsample  nrounds  Accuracy  Kappa    
  0.3  1          0.6               0.50        50      0.7936    0.5532288
  0.3  1          0.6               0.50       100      0.7984    0.5670283
  0.3  1          0.6               0.50       150      0.8016    0.5750364
  0.3  1          0.6               0.75        50      0.8000    0.5683679
  0.3  1          0.6               0.75       100      0.7920    0.5530621
  0.3  1          0.6               0.75       150      0.7952    0.5595167
  0.3  1          0.6               1.00        50      0.8048    0.5824528
  0.3  1          0.6               1.00       100      0.7936    0.5567690
  0.3  1          0.6               1.00       150      0.7936    0.5583194
  0.3  1          0.8               0.50        50      0.7952    0.5588203
  0.3  1          0.8               0.50       100      0.7952    0.5606791
  0.3  1          0.8               0.50       150      0.7984    0.5678404
  0.3  1          0.8               0.75        50      0.8064    0.5838573
  0.3  1          0.8               0.75       100      0.7952    0.5598180
  0.3  1          0.8               0.75       150      0.7984    0.5680711
  0.3  1          0.8               1.00        50      0.8032    0.5776070
  0.3  1          0.8               1.00       100      0.7936    0.5567448
  0.3  1          0.8               1.00       150      0.7952    0.5608127
  0.3  2          0.6               0.50        50      0.7984    0.5659624
  0.3  2          0.6               0.50       100      0.8000    0.5681795
  0.3  2          0.6               0.50       150      0.7984    0.5655375
  0.3  2          0.6               0.75        50      0.8080    0.5840128
  0.3  2          0.6               0.75       100      0.8160    0.6017267
  0.3  2          0.6               0.75       150      0.8208    0.6148647
  0.3  2          0.6               1.00        50      0.7984    0.5642618
  0.3  2          0.6               1.00       100      0.8160    0.6050330
  0.3  2          0.6               1.00       150      0.8144    0.6035449
  0.3  2          0.8               0.50        50      0.8112    0.5928300
  0.3  2          0.8               0.50       100      0.8224    0.6163725
  0.3  2          0.8               0.50       150      0.8192    0.6108362
  0.3  2          0.8               0.75        50      0.8144    0.5988434
  0.3  2          0.8               0.75       100      0.8064    0.5841983
  0.3  2          0.8               0.75       150      0.8064    0.5869076
  0.3  2          0.8               1.00        50      0.8048    0.5784530
  0.3  2          0.8               1.00       100      0.8080    0.5916713
  0.3  2          0.8               1.00       150      0.8160    0.6074775
  0.3  3          0.6               0.50        50      0.8080    0.5855842
  0.3  3          0.6               0.50       100      0.7984    0.5677822
  0.3  3          0.6               0.50       150      0.7936    0.5622879
  0.3  3          0.6               0.75        50      0.8000    0.5690285
  0.3  3          0.6               0.75       100      0.8176    0.6067952
  0.3  3          0.6               0.75       150      0.8032    0.5768480
  0.3  3          0.6               1.00        50      0.8064    0.5846185
  0.3  3          0.6               1.00       100      0.8176    0.6114240
  0.3  3          0.6               1.00       150      0.8000    0.5742391
  0.3  3          0.8               0.50        50      0.7856    0.5416109
  0.3  3          0.8               0.50       100      0.8080    0.5909694
  0.3  3          0.8               0.50       150      0.8048    0.5833752
  0.3  3          0.8               0.75        50      0.8080    0.5848742
  0.3  3          0.8               0.75       100      0.8096    0.5922924
  0.3  3          0.8               0.75       150      0.8096    0.5944031
  0.3  3          0.8               1.00        50      0.8112    0.5955304
  0.3  3          0.8               1.00       100      0.8160    0.6095351
  0.3  3          0.8               1.00       150      0.8080    0.5923806
  0.4  1          0.6               0.50        50      0.7984    0.5654428
  0.4  1          0.6               0.50       100      0.7856    0.5417550
  0.4  1          0.6               0.50       150      0.7904    0.5519082
  0.4  1          0.6               0.75        50      0.7904    0.5527988
  0.4  1          0.6               0.75       100      0.7936    0.5588007
  0.4  1          0.6               0.75       150      0.8048    0.5850564
  0.4  1          0.6               1.00        50      0.8000    0.5708883
  0.4  1          0.6               1.00       100      0.7904    0.5508317
  0.4  1          0.6               1.00       150      0.7952    0.5638414
  0.4  1          0.8               0.50        50      0.7952    0.5596631
  0.4  1          0.8               0.50       100      0.7904    0.5501620
  0.4  1          0.8               0.50       150      0.7984    0.5681207
  0.4  1          0.8               0.75        50      0.7920    0.5567217
  0.4  1          0.8               0.75       100      0.8016    0.5713368
  0.4  1          0.8               0.75       150      0.7984    0.5700493
  0.4  1          0.8               1.00        50      0.8000    0.5706676
  0.4  1          0.8               1.00       100      0.7952    0.5627966
  0.4  1          0.8               1.00       150      0.7872    0.5463291
  0.4  2          0.6               0.50        50      0.8000    0.5686933
  0.4  2          0.6               0.50       100      0.8304    0.6363294
  0.4  2          0.6               0.50       150      0.8240    0.6250907
  0.4  2          0.6               0.75        50      0.8096    0.5875135
  0.4  2          0.6               0.75       100      0.8064    0.5837448
  0.4  2          0.6               0.75       150      0.8064    0.5859264
  0.4  2          0.6               1.00        50      0.7952    0.5598551
  0.4  2          0.6               1.00       100      0.8160    0.6065912
  0.4  2          0.6               1.00       150      0.8048    0.5836471
  0.4  2          0.8               0.50        50      0.7840    0.5373904
  0.4  2          0.8               0.50       100      0.8080    0.5909284
  0.4  2          0.8               0.50       150      0.7904    0.5520807
  0.4  2          0.8               0.75        50      0.8176    0.6082601
  0.4  2          0.8               0.75       100      0.8240    0.6230251
  0.4  2          0.8               0.75       150      0.8096    0.5938767
  0.4  2          0.8               1.00        50      0.8064    0.5852386
  0.4  2          0.8               1.00       100      0.8160    0.6091437
  0.4  2          0.8               1.00       150      0.8064    0.5882986
  0.4  3          0.6               0.50        50      0.8016    0.5800843
  0.4  3          0.6               0.50       100      0.8160    0.6076108
  0.4  3          0.6               0.50       150      0.7952    0.5644753
  0.4  3          0.6               0.75        50      0.8064    0.5851191
  0.4  3          0.6               0.75       100      0.8144    0.6048904
  0.4  3          0.6               0.75       150      0.8096    0.5969159
  0.4  3          0.6               1.00        50      0.8112    0.5967624
  0.4  3          0.6               1.00       100      0.8096    0.5948556
  0.4  3          0.6               1.00       150      0.8080    0.5925659
  0.4  3          0.8               0.50        50      0.8080    0.5919065
  0.4  3          0.8               0.50       100      0.7984    0.5685959
  0.4  3          0.8               0.50       150      0.7904    0.5575082
  0.4  3          0.8               0.75        50      0.8016    0.5746439
  0.4  3          0.8               0.75       100      0.8176    0.6118326
  0.4  3          0.8               0.75       150      0.8176    0.6124456
  0.4  3          0.8               1.00        50      0.8144    0.6005889
  0.4  3          0.8               1.00       100      0.7936    0.5584222
  0.4  3          0.8               1.00       150      0.7872    0.5478133

Tuning parameter 'gamma' was held constant at a value of 0
Tuning parameter 'min_child_weight' was held constant at a value of 1
Accuracy was used to select the optimal model using the largest value.
The final values used for the model were nrounds = 100, max_depth = 2, eta = 0.4, gamma = 0, colsample_bytree = 0.6, min_child_weight = 1 and subsample = 0.5.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(xgb.fit)                                         <span class="co"># Plot </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><code>Result!</code> 랜덤하게 결정된 초모수 값을 조합하여 만든 108개의 초모수 조합값 (<code>eta</code>, <code>max_depth</code>, <code>gamma</code>, <code>colsample_bytree</code>, <code>min_child_weight</code>, <code>subsample</code>, <code>nrounds</code>)에 대한 정확도를 보여주며, (<code>eta</code> = 0.4, <code>max_depth</code> = 2, <code>gamma</code> = 0, <code>colsample_bytree</code> = 0.6, <code>min_child_weight</code> = 1, <code>subsample</code> = 0.5, <code>nrounds</code> = 100)일 때 정확도가 가장 높은 것을 알 수 있다. 따라서 그리드 검색을 통해 찾은 최적의 초모수 조합값 (<code>eta</code> = 0.4, <code>max_depth</code> = 2, <code>gamma</code> = 0, <code>colsample_bytree</code> = 0.6, <code>min_child_weight</code> = 1, <code>subsample</code> = 0.5, <code>nrounds</code> = 100) 근처의 값들을 탐색 범위로 설정하여 훈련을 다시 수행할 수 있다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>customGrid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">eta =</span> <span class="fu">seq</span>(<span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="at">by =</span> <span class="fl">0.1</span>),              <span class="co"># eta의 탐색 범위</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">max_depth =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="at">by =</span> <span class="dv">1</span>),              <span class="co"># max_depth의 탐색 범위</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">gamma =</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.5</span>),              <span class="co"># gamma의 탐색 범위</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">colsample_bytree =</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="at">by =</span> <span class="fl">0.1</span>), <span class="co"># colsample_bytree의 탐색 범위</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">min_child_weight =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="at">by =</span> <span class="dv">1</span>),       <span class="co"># min_child_weight의 탐색 범위</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">subsample =</span> <span class="fu">seq</span>(<span class="fl">0.45</span>, <span class="fl">0.55</span>, <span class="at">by =</span> <span class="fl">0.1</span>),      <span class="co"># subsample의 탐색 범위</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">nrounds =</span> <span class="fu">seq</span>(<span class="dv">99</span>, <span class="dv">101</span>, <span class="at">by =</span> <span class="dv">1</span>))             <span class="co"># nrounds의 탐색 범위</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">200</span>)                                                         <span class="co"># For CV</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>xgb.tune.fit <span class="ot">&lt;-</span> <span class="fu">train</span>(Survived <span class="sc">~</span> ., <span class="at">data =</span> titanic.trd.Imp, </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">trControl =</span> fitControl ,</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>                      <span class="at">method =</span> <span class="st">"xgbTree"</span>,</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tuneGrid =</span> customGrid)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>xgb.tune.fit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>eXtreme Gradient Boosting 

625 samples
  5 predictor
  2 classes: 'no', 'yes' 

No pre-processing
Resampling: Cross-Validated (5 fold) 
Summary of sample sizes: 500, 500, 500, 500, 500 
Resampling results across tuning parameters:

  eta  max_depth  gamma  colsample_bytree  min_child_weight  subsample  nrounds  Accuracy  Kappa    
  0.3  1          0.1    0.5               1                 0.45        99      0.8064    0.5838129
  0.3  1          0.1    0.5               1                 0.45       100      0.8048    0.5814521
  0.3  1          0.1    0.5               1                 0.45       101      0.8032    0.5774806
  0.3  1          0.1    0.5               1                 0.55        99      0.8032    0.5775456
  0.3  1          0.1    0.5               1                 0.55       100      0.8080    0.5881485
  0.3  1          0.1    0.5               1                 0.55       101      0.8048    0.5801318
  0.3  1          0.1    0.5               2                 0.45        99      0.8080    0.5877026
  0.3  1          0.1    0.5               2                 0.45       100      0.8064    0.5837763
  0.3  1          0.1    0.5               2                 0.45       101      0.8128    0.5982911
  0.3  1          0.1    0.5               2                 0.55        99      0.8000    0.5711714
  0.3  1          0.1    0.5               2                 0.55       100      0.8016    0.5743475
  0.3  1          0.1    0.5               2                 0.55       101      0.7968    0.5657900
  0.3  1          0.1    0.6               1                 0.45        99      0.8048    0.5834690
  0.3  1          0.1    0.6               1                 0.45       100      0.8032    0.5813071
  0.3  1          0.1    0.6               1                 0.45       101      0.8016    0.5772513
  0.3  1          0.1    0.6               1                 0.55        99      0.8048    0.5792279
  0.3  1          0.1    0.6               1                 0.55       100      0.8080    0.5846818
  0.3  1          0.1    0.6               1                 0.55       101      0.8048    0.5800795
  0.3  1          0.1    0.6               2                 0.45        99      0.7952    0.5604895
  0.3  1          0.1    0.6               2                 0.45       100      0.7936    0.5553880
  0.3  1          0.1    0.6               2                 0.45       101      0.7920    0.5536102
  0.3  1          0.1    0.6               2                 0.55        99      0.7920    0.5529005
  0.3  1          0.1    0.6               2                 0.55       100      0.7888    0.5460309
  0.3  1          0.1    0.6               2                 0.55       101      0.7872    0.5438934
  0.3  1          0.1    0.7               1                 0.45        99      0.8032    0.5753638
  0.3  1          0.1    0.7               1                 0.45       100      0.8000    0.5679317
  0.3  1          0.1    0.7               1                 0.45       101      0.8032    0.5744805
  0.3  1          0.1    0.7               1                 0.55        99      0.7968    0.5628348
  0.3  1          0.1    0.7               1                 0.55       100      0.7952    0.5588770
  0.3  1          0.1    0.7               1                 0.55       101      0.7968    0.5619139
  0.3  1          0.1    0.7               2                 0.45        99      0.7920    0.5530767
  0.3  1          0.1    0.7               2                 0.45       100      0.7920    0.5527731
  0.3  1          0.1    0.7               2                 0.45       101      0.7920    0.5525992
  0.3  1          0.1    0.7               2                 0.55        99      0.7936    0.5540954
  0.3  1          0.1    0.7               2                 0.55       100      0.8000    0.5666202
  0.3  1          0.1    0.7               2                 0.55       101      0.8032    0.5739548
  0.3  1          0.6    0.5               1                 0.45        99      0.7936    0.5564740
  0.3  1          0.6    0.5               1                 0.45       100      0.7952    0.5581319
  0.3  1          0.6    0.5               1                 0.45       101      0.7968    0.5605810
  0.3  1          0.6    0.5               1                 0.55        99      0.7968    0.5633042
  0.3  1          0.6    0.5               1                 0.55       100      0.8000    0.5719791
  0.3  1          0.6    0.5               1                 0.55       101      0.7968    0.5641198
  0.3  1          0.6    0.5               2                 0.45        99      0.8016    0.5737968
  0.3  1          0.6    0.5               2                 0.45       100      0.7952    0.5585167
  0.3  1          0.6    0.5               2                 0.45       101      0.7920    0.5504370
  0.3  1          0.6    0.5               2                 0.55        99      0.8048    0.5790185
  0.3  1          0.6    0.5               2                 0.55       100      0.8080    0.5852328
  0.3  1          0.6    0.5               2                 0.55       101      0.8000    0.5681826
  0.3  1          0.6    0.6               1                 0.45        99      0.7936    0.5563138
  0.3  1          0.6    0.6               1                 0.45       100      0.7936    0.5569457
  0.3  1          0.6    0.6               1                 0.45       101      0.7904    0.5508814
  0.3  1          0.6    0.6               1                 0.55        99      0.7824    0.5305113
  0.3  1          0.6    0.6               1                 0.55       100      0.7856    0.5374017
  0.3  1          0.6    0.6               1                 0.55       101      0.7904    0.5474332
  0.3  1          0.6    0.6               2                 0.45        99      0.8032    0.5756352
  0.3  1          0.6    0.6               2                 0.45       100      0.8080    0.5844591
  0.3  1          0.6    0.6               2                 0.45       101      0.8032    0.5747264
  0.3  1          0.6    0.6               2                 0.55        99      0.7904    0.5503540
  0.3  1          0.6    0.6               2                 0.55       100      0.7920    0.5527563
  0.3  1          0.6    0.6               2                 0.55       101      0.7920    0.5511523
  0.3  1          0.6    0.7               1                 0.45        99      0.7984    0.5650223
  0.3  1          0.6    0.7               1                 0.45       100      0.8048    0.5805166
  0.3  1          0.6    0.7               1                 0.45       101      0.8016    0.5747020
  0.3  1          0.6    0.7               1                 0.55        99      0.7936    0.5594105
  0.3  1          0.6    0.7               1                 0.55       100      0.7984    0.5674121
  0.3  1          0.6    0.7               1                 0.55       101      0.7952    0.5596154
  0.3  1          0.6    0.7               2                 0.45        99      0.8064    0.5827225
  0.3  1          0.6    0.7               2                 0.45       100      0.8032    0.5757635
  0.3  1          0.6    0.7               2                 0.45       101      0.7968    0.5641691
  0.3  1          0.6    0.7               2                 0.55        99      0.8032    0.5760319
  0.3  1          0.6    0.7               2                 0.55       100      0.8032    0.5759375
  0.3  1          0.6    0.7               2                 0.55       101      0.8064    0.5836489
  0.3  2          0.1    0.5               1                 0.45        99      0.7984    0.5659478
  0.3  2          0.1    0.5               1                 0.45       100      0.8000    0.5700399
  0.3  2          0.1    0.5               1                 0.45       101      0.7984    0.5646069
  0.3  2          0.1    0.5               1                 0.55        99      0.8032    0.5767185
  0.3  2          0.1    0.5               1                 0.55       100      0.8048    0.5810878
  0.3  2          0.1    0.5               1                 0.55       101      0.8016    0.5721704
  0.3  2          0.1    0.5               2                 0.45        99      0.8128    0.5953302
  0.3  2          0.1    0.5               2                 0.45       100      0.8176    0.6047191
  0.3  2          0.1    0.5               2                 0.45       101      0.8144    0.5969698
  0.3  2          0.1    0.5               2                 0.55        99      0.8016    0.5733767
  0.3  2          0.1    0.5               2                 0.55       100      0.8112    0.5946178
  0.3  2          0.1    0.5               2                 0.55       101      0.8096    0.5907259
  0.3  2          0.1    0.6               1                 0.45        99      0.8096    0.5936793
  0.3  2          0.1    0.6               1                 0.45       100      0.8032    0.5783268
  0.3  2          0.1    0.6               1                 0.45       101      0.8048    0.5820366
  0.3  2          0.1    0.6               1                 0.55        99      0.8144    0.5984934
  0.3  2          0.1    0.6               1                 0.55       100      0.8080    0.5845359
  0.3  2          0.1    0.6               1                 0.55       101      0.8144    0.5978417
  0.3  2          0.1    0.6               2                 0.45        99      0.8096    0.5899417
  0.3  2          0.1    0.6               2                 0.45       100      0.8048    0.5774758
  0.3  2          0.1    0.6               2                 0.45       101      0.8064    0.5823657
  0.3  2          0.1    0.6               2                 0.55        99      0.8032    0.5752657
  0.3  2          0.1    0.6               2                 0.55       100      0.8032    0.5759264
  0.3  2          0.1    0.6               2                 0.55       101      0.8080    0.5847341
  0.3  2          0.1    0.7               1                 0.45        99      0.8064    0.5824642
  0.3  2          0.1    0.7               1                 0.45       100      0.8016    0.5732246
  0.3  2          0.1    0.7               1                 0.45       101      0.8048    0.5791015
  0.3  2          0.1    0.7               1                 0.55        99      0.8144    0.6017616
  0.3  2          0.1    0.7               1                 0.55       100      0.8096    0.5906118
  0.3  2          0.1    0.7               1                 0.55       101      0.8112    0.5930176
  0.3  2          0.1    0.7               2                 0.45        99      0.8016    0.5705171
  0.3  2          0.1    0.7               2                 0.45       100      0.8016    0.5693442
  0.3  2          0.1    0.7               2                 0.45       101      0.7984    0.5639016
  0.3  2          0.1    0.7               2                 0.55        99      0.8032    0.5785788
  0.3  2          0.1    0.7               2                 0.55       100      0.8048    0.5823144
  0.3  2          0.1    0.7               2                 0.55       101      0.8112    0.5972521
  0.3  2          0.6    0.5               1                 0.45        99      0.8112    0.5959995
  0.3  2          0.6    0.5               1                 0.45       100      0.8016    0.5752524
  0.3  2          0.6    0.5               1                 0.45       101      0.8048    0.5823796
  0.3  2          0.6    0.5               1                 0.55        99      0.8048    0.5797549
  0.3  2          0.6    0.5               1                 0.55       100      0.8064    0.5841294
  0.3  2          0.6    0.5               1                 0.55       101      0.8032    0.5767271
  0.3  2          0.6    0.5               2                 0.45        99      0.8048    0.5787174
  0.3  2          0.6    0.5               2                 0.45       100      0.8064    0.5823871
  0.3  2          0.6    0.5               2                 0.45       101      0.8144    0.6004399
  0.3  2          0.6    0.5               2                 0.55        99      0.8224    0.6144061
  0.3  2          0.6    0.5               2                 0.55       100      0.8176    0.6050864
  0.3  2          0.6    0.5               2                 0.55       101      0.8144    0.5971932
  0.3  2          0.6    0.6               1                 0.45        99      0.8080    0.5874888
  0.3  2          0.6    0.6               1                 0.45       100      0.8048    0.5812470
  0.3  2          0.6    0.6               1                 0.45       101      0.8048    0.5812451
  0.3  2          0.6    0.6               1                 0.55        99      0.8112    0.5957263
  0.3  2          0.6    0.6               1                 0.55       100      0.8064    0.5839784
  0.3  2          0.6    0.6               1                 0.55       101      0.8048    0.5799662
  0.3  2          0.6    0.6               2                 0.45        99      0.8080    0.5881105
  0.3  2          0.6    0.6               2                 0.45       100      0.8160    0.6046260
  0.3  2          0.6    0.6               2                 0.45       101      0.8192    0.6111008
  0.3  2          0.6    0.6               2                 0.55        99      0.8160    0.6028799
  0.3  2          0.6    0.6               2                 0.55       100      0.8160    0.6018224
  0.3  2          0.6    0.6               2                 0.55       101      0.8048    0.5770912
  0.3  2          0.6    0.7               1                 0.45        99      0.8096    0.5903734
  0.3  2          0.6    0.7               1                 0.45       100      0.8096    0.5895973
  0.3  2          0.6    0.7               1                 0.45       101      0.8080    0.5859832
  0.3  2          0.6    0.7               1                 0.55        99      0.8000    0.5726832
  0.3  2          0.6    0.7               1                 0.55       100      0.8016    0.5755417
  0.3  2          0.6    0.7               1                 0.55       101      0.8016    0.5761515
  0.3  2          0.6    0.7               2                 0.45        99      0.8192    0.6111638
  0.3  2          0.6    0.7               2                 0.45       100      0.8240    0.6204912
  0.3  2          0.6    0.7               2                 0.45       101      0.8128    0.5987658
  0.3  2          0.6    0.7               2                 0.55        99      0.8128    0.5956023
  0.3  2          0.6    0.7               2                 0.55       100      0.8096    0.5894324
  0.3  2          0.6    0.7               2                 0.55       101      0.8160    0.6027735
  0.3  3          0.1    0.5               1                 0.45        99      0.8048    0.5839084
  0.3  3          0.1    0.5               1                 0.45       100      0.8112    0.5978148
  0.3  3          0.1    0.5               1                 0.45       101      0.8096    0.5960775
  0.3  3          0.1    0.5               1                 0.55        99      0.8096    0.5926541
  0.3  3          0.1    0.5               1                 0.55       100      0.8096    0.5950085
  0.3  3          0.1    0.5               1                 0.55       101      0.8128    0.6005444
  0.3  3          0.1    0.5               2                 0.45        99      0.8208    0.6162723
  0.3  3          0.1    0.5               2                 0.45       100      0.8080    0.5888067
  0.3  3          0.1    0.5               2                 0.45       101      0.8096    0.5919595
  0.3  3          0.1    0.5               2                 0.55        99      0.8144    0.6041075
  0.3  3          0.1    0.5               2                 0.55       100      0.8176    0.6115186
  0.3  3          0.1    0.5               2                 0.55       101      0.8160    0.6075260
  0.3  3          0.1    0.6               1                 0.45        99      0.8112    0.5932933
  0.3  3          0.1    0.6               1                 0.45       100      0.8144    0.5997478
  0.3  3          0.1    0.6               1                 0.45       101      0.8080    0.5858388
  0.3  3          0.1    0.6               1                 0.55        99      0.8160    0.6042108
  0.3  3          0.1    0.6               1                 0.55       100      0.8224    0.6173801
  0.3  3          0.1    0.6               1                 0.55       101      0.8208    0.6146349
  0.3  3          0.1    0.6               2                 0.45        99      0.8096    0.5937302
  0.3  3          0.1    0.6               2                 0.45       100      0.8064    0.5869546
  0.3  3          0.1    0.6               2                 0.45       101      0.8032    0.5790146
  0.3  3          0.1    0.6               2                 0.55        99      0.8208    0.6175102
  0.3  3          0.1    0.6               2                 0.55       100      0.8192    0.6143484
  0.3  3          0.1    0.6               2                 0.55       101      0.8208    0.6182049
  0.3  3          0.1    0.7               1                 0.45        99      0.8144    0.6017376
  0.3  3          0.1    0.7               1                 0.45       100      0.8096    0.5918062
  0.3  3          0.1    0.7               1                 0.45       101      0.8096    0.5915797
  0.3  3          0.1    0.7               1                 0.55        99      0.8048    0.5841298
  0.3  3          0.1    0.7               1                 0.55       100      0.8080    0.5911333
  0.3  3          0.1    0.7               1                 0.55       101      0.8032    0.5807817
  0.3  3          0.1    0.7               2                 0.45        99      0.8048    0.5795917
  0.3  3          0.1    0.7               2                 0.45       100      0.8048    0.5816915
  0.3  3          0.1    0.7               2                 0.45       101      0.8064    0.5855839
  0.3  3          0.1    0.7               2                 0.55        99      0.8064    0.5860909
  0.3  3          0.1    0.7               2                 0.55       100      0.8080    0.5893588
  0.3  3          0.1    0.7               2                 0.55       101      0.8080    0.5898876
  0.3  3          0.6    0.5               1                 0.45        99      0.8112    0.5979589
  0.3  3          0.6    0.5               1                 0.45       100      0.8112    0.5987583
  0.3  3          0.6    0.5               1                 0.45       101      0.8080    0.5910979
  0.3  3          0.6    0.5               1                 0.55        99      0.8016    0.5724942
  0.3  3          0.6    0.5               1                 0.55       100      0.8144    0.6017634
  0.3  3          0.6    0.5               1                 0.55       101      0.8112    0.5947893
  0.3  3          0.6    0.5               2                 0.45        99      0.8224    0.6170823
  0.3  3          0.6    0.5               2                 0.45       100      0.8272    0.6281251
  0.3  3          0.6    0.5               2                 0.45       101      0.8256    0.6256626
  0.3  3          0.6    0.5               2                 0.55        99      0.8144    0.6007998
  0.3  3          0.6    0.5               2                 0.55       100      0.8064    0.5833309
  0.3  3          0.6    0.5               2                 0.55       101      0.7984    0.5666751
  0.3  3          0.6    0.6               1                 0.45        99      0.8048    0.5810873
  0.3  3          0.6    0.6               1                 0.45       100      0.8080    0.5917270
  0.3  3          0.6    0.6               1                 0.45       101      0.8112    0.5953732
  0.3  3          0.6    0.6               1                 0.55        99      0.8032    0.5777434
  0.3  3          0.6    0.6               1                 0.55       100      0.8032    0.5800519
  0.3  3          0.6    0.6               1                 0.55       101      0.8048    0.5843351
  0.3  3          0.6    0.6               2                 0.45        99      0.8160    0.6065282
  0.3  3          0.6    0.6               2                 0.45       100      0.8208    0.6165114
  0.3  3          0.6    0.6               2                 0.45       101      0.8160    0.6058498
  0.3  3          0.6    0.6               2                 0.55        99      0.8048    0.5828182
  0.3  3          0.6    0.6               2                 0.55       100      0.8160    0.6055006
  0.3  3          0.6    0.6               2                 0.55       101      0.8080    0.5882109
  0.3  3          0.6    0.7               1                 0.45        99      0.8080    0.5888975
  0.3  3          0.6    0.7               1                 0.45       100      0.8016    0.5762706
  0.3  3          0.6    0.7               1                 0.45       101      0.8032    0.5794309
  0.3  3          0.6    0.7               1                 0.55        99      0.8048    0.5821583
  0.3  3          0.6    0.7               1                 0.55       100      0.8048    0.5811598
  0.3  3          0.6    0.7               1                 0.55       101      0.8112    0.5944848
  0.3  3          0.6    0.7               2                 0.45        99      0.8064    0.5824673
  0.3  3          0.6    0.7               2                 0.45       100      0.8096    0.5918120
  0.3  3          0.6    0.7               2                 0.45       101      0.8080    0.5913199
  0.3  3          0.6    0.7               2                 0.55        99      0.8080    0.5889894
  0.3  3          0.6    0.7               2                 0.55       100      0.8016    0.5747475
  0.3  3          0.6    0.7               2                 0.55       101      0.8048    0.5802493
  0.4  1          0.1    0.5               1                 0.45        99      0.7968    0.5648428
  0.4  1          0.1    0.5               1                 0.45       100      0.7968    0.5665363
  0.4  1          0.1    0.5               1                 0.45       101      0.8016    0.5755251
  0.4  1          0.1    0.5               1                 0.55        99      0.8000    0.5712934
  0.4  1          0.1    0.5               1                 0.55       100      0.7968    0.5633200
  0.4  1          0.1    0.5               1                 0.55       101      0.7984    0.5667448
  0.4  1          0.1    0.5               2                 0.45        99      0.8064    0.5874486
  0.4  1          0.1    0.5               2                 0.45       100      0.8112    0.5960756
  0.4  1          0.1    0.5               2                 0.45       101      0.8160    0.6047659
  0.4  1          0.1    0.5               2                 0.55        99      0.7888    0.5478920
  0.4  1          0.1    0.5               2                 0.55       100      0.7936    0.5580187
  0.4  1          0.1    0.5               2                 0.55       101      0.7888    0.5488473
  0.4  1          0.1    0.6               1                 0.45        99      0.7984    0.5661084
  0.4  1          0.1    0.6               1                 0.45       100      0.8032    0.5749515
  0.4  1          0.1    0.6               1                 0.45       101      0.7968    0.5617222
  0.4  1          0.1    0.6               1                 0.55        99      0.7984    0.5681274
  0.4  1          0.1    0.6               1                 0.55       100      0.8000    0.5734568
  0.4  1          0.1    0.6               1                 0.55       101      0.8032    0.5793127
  0.4  1          0.1    0.6               2                 0.45        99      0.7952    0.5575754
  0.4  1          0.1    0.6               2                 0.45       100      0.7856    0.5373404
  0.4  1          0.1    0.6               2                 0.45       101      0.7840    0.5339368
  0.4  1          0.1    0.6               2                 0.55        99      0.7888    0.5471573
  0.4  1          0.1    0.6               2                 0.55       100      0.7888    0.5465656
  0.4  1          0.1    0.6               2                 0.55       101      0.7904    0.5513458
  0.4  1          0.1    0.7               1                 0.45        99      0.7888    0.5451314
  0.4  1          0.1    0.7               1                 0.45       100      0.7888    0.5477034
  0.4  1          0.1    0.7               1                 0.45       101      0.7936    0.5564137
  0.4  1          0.1    0.7               1                 0.55        99      0.7888    0.5441428
  0.4  1          0.1    0.7               1                 0.55       100      0.7888    0.5430693
  0.4  1          0.1    0.7               1                 0.55       101      0.7952    0.5585235
  0.4  1          0.1    0.7               2                 0.45        99      0.8096    0.5879311
  0.4  1          0.1    0.7               2                 0.45       100      0.8080    0.5836482
  0.4  1          0.1    0.7               2                 0.45       101      0.8064    0.5812550
  0.4  1          0.1    0.7               2                 0.55        99      0.8048    0.5825363
  0.4  1          0.1    0.7               2                 0.55       100      0.8096    0.5932939
  0.4  1          0.1    0.7               2                 0.55       101      0.8112    0.5960429
  0.4  1          0.6    0.5               1                 0.45        99      0.8032    0.5791064
  0.4  1          0.6    0.5               1                 0.45       100      0.8064    0.5855774
  0.4  1          0.6    0.5               1                 0.45       101      0.8000    0.5717159
  0.4  1          0.6    0.5               1                 0.55        99      0.8016    0.5710198
  0.4  1          0.6    0.5               1                 0.55       100      0.7920    0.5480072
  0.4  1          0.6    0.5               1                 0.55       101      0.7920    0.5502826
  0.4  1          0.6    0.5               2                 0.45        99      0.7936    0.5640744
  0.4  1          0.6    0.5               2                 0.45       100      0.7968    0.5681072
  0.4  1          0.6    0.5               2                 0.45       101      0.7968    0.5704825
  0.4  1          0.6    0.5               2                 0.55        99      0.8096    0.5930286
  0.4  1          0.6    0.5               2                 0.55       100      0.8080    0.5897734
  0.4  1          0.6    0.5               2                 0.55       101      0.8064    0.5879978
  0.4  1          0.6    0.6               1                 0.45        99      0.8064    0.5861577
  0.4  1          0.6    0.6               1                 0.45       100      0.8048    0.5815993
  0.4  1          0.6    0.6               1                 0.45       101      0.7984    0.5657947
  0.4  1          0.6    0.6               1                 0.55        99      0.7968    0.5624708
  0.4  1          0.6    0.6               1                 0.55       100      0.7984    0.5658045
  0.4  1          0.6    0.6               1                 0.55       101      0.7936    0.5576578
  0.4  1          0.6    0.6               2                 0.45        99      0.8032    0.5763327
  0.4  1          0.6    0.6               2                 0.45       100      0.7968    0.5628419
  0.4  1          0.6    0.6               2                 0.45       101      0.7936    0.5553905
  0.4  1          0.6    0.6               2                 0.55        99      0.8112    0.5930763
  0.4  1          0.6    0.6               2                 0.55       100      0.8048    0.5764562
  0.4  1          0.6    0.6               2                 0.55       101      0.8080    0.5844435
  0.4  1          0.6    0.7               1                 0.45        99      0.7872    0.5397521
  0.4  1          0.6    0.7               1                 0.45       100      0.7872    0.5404324
  0.4  1          0.6    0.7               1                 0.45       101      0.7936    0.5536214
  0.4  1          0.6    0.7               1                 0.55        99      0.7936    0.5583798
  0.4  1          0.6    0.7               1                 0.55       100      0.7920    0.5563395
  0.4  1          0.6    0.7               1                 0.55       101      0.8000    0.5725743
  0.4  1          0.6    0.7               2                 0.45        99      0.8048    0.5785592
  0.4  1          0.6    0.7               2                 0.45       100      0.8000    0.5696905
  0.4  1          0.6    0.7               2                 0.45       101      0.8000    0.5692470
  0.4  1          0.6    0.7               2                 0.55        99      0.8032    0.5770293
  0.4  1          0.6    0.7               2                 0.55       100      0.7984    0.5663165
  0.4  1          0.6    0.7               2                 0.55       101      0.8000    0.5709361
  0.4  2          0.1    0.5               1                 0.45        99      0.8144    0.5982400
  0.4  2          0.1    0.5               1                 0.45       100      0.8208    0.6150196
  0.4  2          0.1    0.5               1                 0.45       101      0.8256    0.6255417
  0.4  2          0.1    0.5               1                 0.55        99      0.8240    0.6220474
  0.4  2          0.1    0.5               1                 0.55       100      0.8256    0.6249393
  0.4  2          0.1    0.5               1                 0.55       101      0.8224    0.6173992
  0.4  2          0.1    0.5               2                 0.45        99      0.8208    0.6127408
  0.4  2          0.1    0.5               2                 0.45       100      0.8160    0.6039160
  0.4  2          0.1    0.5               2                 0.45       101      0.8096    0.5890128
  0.4  2          0.1    0.5               2                 0.55        99      0.8048    0.5773155
  0.4  2          0.1    0.5               2                 0.55       100      0.8208    0.6129043
  0.4  2          0.1    0.5               2                 0.55       101      0.8160    0.6023447
  0.4  2          0.1    0.6               1                 0.45        99      0.8080    0.5899733
  0.4  2          0.1    0.6               1                 0.45       100      0.8048    0.5817091
  0.4  2          0.1    0.6               1                 0.45       101      0.8016    0.5742258
  0.4  2          0.1    0.6               1                 0.55        99      0.8144    0.6012797
  0.4  2          0.1    0.6               1                 0.55       100      0.8192    0.6116334
  0.4  2          0.1    0.6               1                 0.55       101      0.8128    0.5997723
  0.4  2          0.1    0.6               2                 0.45        99      0.8096    0.5919074
  0.4  2          0.1    0.6               2                 0.45       100      0.8112    0.5950910
  0.4  2          0.1    0.6               2                 0.45       101      0.8128    0.5988078
  0.4  2          0.1    0.6               2                 0.55        99      0.8032    0.5767340
  0.4  2          0.1    0.6               2                 0.55       100      0.8096    0.5904993
  0.4  2          0.1    0.6               2                 0.55       101      0.8128    0.5967108
  0.4  2          0.1    0.7               1                 0.45        99      0.7984    0.5715282
  0.4  2          0.1    0.7               1                 0.45       100      0.7936    0.5603396
  0.4  2          0.1    0.7               1                 0.45       101      0.8000    0.5733208
  0.4  2          0.1    0.7               1                 0.55        99      0.8080    0.5900799
  0.4  2          0.1    0.7               1                 0.55       100      0.8032    0.5788321
  0.4  2          0.1    0.7               1                 0.55       101      0.8048    0.5818428
  0.4  2          0.1    0.7               2                 0.45        99      0.7936    0.5570264
  0.4  2          0.1    0.7               2                 0.45       100      0.7968    0.5604493
  0.4  2          0.1    0.7               2                 0.45       101      0.7952    0.5579014
  0.4  2          0.1    0.7               2                 0.55        99      0.8112    0.5972013
  0.4  2          0.1    0.7               2                 0.55       100      0.8096    0.5934287
  0.4  2          0.1    0.7               2                 0.55       101      0.8032    0.5803223
  0.4  2          0.6    0.5               1                 0.45        99      0.7888    0.5469905
  0.4  2          0.6    0.5               1                 0.45       100      0.7872    0.5441030
  0.4  2          0.6    0.5               1                 0.45       101      0.7904    0.5501000
  0.4  2          0.6    0.5               1                 0.55        99      0.8112    0.5916252
  0.4  2          0.6    0.5               1                 0.55       100      0.8128    0.5968697
  0.4  2          0.6    0.5               1                 0.55       101      0.8112    0.5917534
  0.4  2          0.6    0.5               2                 0.45        99      0.8032    0.5797886
  0.4  2          0.6    0.5               2                 0.45       100      0.8160    0.6050679
  0.4  2          0.6    0.5               2                 0.45       101      0.8112    0.5937308
  0.4  2          0.6    0.5               2                 0.55        99      0.8144    0.6012854
  0.4  2          0.6    0.5               2                 0.55       100      0.8144    0.5998335
  0.4  2          0.6    0.5               2                 0.55       101      0.8112    0.5938388
  0.4  2          0.6    0.6               1                 0.45        99      0.8000    0.5725380
  0.4  2          0.6    0.6               1                 0.45       100      0.8048    0.5831854
  0.4  2          0.6    0.6               1                 0.45       101      0.8048    0.5830149
  0.4  2          0.6    0.6               1                 0.55        99      0.8032    0.5765950
  0.4  2          0.6    0.6               1                 0.55       100      0.7968    0.5649878
  0.4  2          0.6    0.6               1                 0.55       101      0.8000    0.5707581
  0.4  2          0.6    0.6               2                 0.45        99      0.8144    0.5992945
  0.4  2          0.6    0.6               2                 0.45       100      0.8112    0.5918309
  0.4  2          0.6    0.6               2                 0.45       101      0.8128    0.5972461
  0.4  2          0.6    0.6               2                 0.55        99      0.8048    0.5762582
  0.4  2          0.6    0.6               2                 0.55       100      0.8144    0.5979076
  0.4  2          0.6    0.6               2                 0.55       101      0.8224    0.6136496
  0.4  2          0.6    0.7               1                 0.45        99      0.8128    0.5978036
  0.4  2          0.6    0.7               1                 0.45       100      0.7984    0.5679823
  0.4  2          0.6    0.7               1                 0.45       101      0.8016    0.5727478
  0.4  2          0.6    0.7               1                 0.55        99      0.8160    0.6089290
  0.4  2          0.6    0.7               1                 0.55       100      0.8160    0.6083179
  0.4  2          0.6    0.7               1                 0.55       101      0.8064    0.5864786
  0.4  2          0.6    0.7               2                 0.45        99      0.8080    0.5879538
  0.4  2          0.6    0.7               2                 0.45       100      0.8160    0.6046354
  0.4  2          0.6    0.7               2                 0.45       101      0.8144    0.6030495
  0.4  2          0.6    0.7               2                 0.55        99      0.8256    0.6236890
  0.4  2          0.6    0.7               2                 0.55       100      0.8256    0.6254991
  0.4  2          0.6    0.7               2                 0.55       101      0.8304    0.6359992
  0.4  3          0.1    0.5               1                 0.45        99      0.8000    0.5739537
  0.4  3          0.1    0.5               1                 0.45       100      0.7952    0.5667440
  0.4  3          0.1    0.5               1                 0.45       101      0.8048    0.5855250
  0.4  3          0.1    0.5               1                 0.55        99      0.8144    0.6046439
  0.4  3          0.1    0.5               1                 0.55       100      0.8128    0.6012938
  0.4  3          0.1    0.5               1                 0.55       101      0.8064    0.5870635
  0.4  3          0.1    0.5               2                 0.45        99      0.8224    0.6157011
  0.4  3          0.1    0.5               2                 0.45       100      0.8192    0.6088574
  0.4  3          0.1    0.5               2                 0.45       101      0.8256    0.6234331
  0.4  3          0.1    0.5               2                 0.55        99      0.8112    0.5966845
  0.4  3          0.1    0.5               2                 0.55       100      0.8032    0.5825946
  0.4  3          0.1    0.5               2                 0.55       101      0.8080    0.5945848
  0.4  3          0.1    0.6               1                 0.45        99      0.7984    0.5700555
  0.4  3          0.1    0.6               1                 0.45       100      0.7984    0.5691527
  0.4  3          0.1    0.6               1                 0.45       101      0.7984    0.5711980
  0.4  3          0.1    0.6               1                 0.55        99      0.7936    0.5576469
  0.4  3          0.1    0.6               1                 0.55       100      0.7984    0.5700712
  0.4  3          0.1    0.6               1                 0.55       101      0.7984    0.5697263
  0.4  3          0.1    0.6               2                 0.45        99      0.7952    0.5613850
  0.4  3          0.1    0.6               2                 0.45       100      0.7984    0.5695710
  0.4  3          0.1    0.6               2                 0.45       101      0.8080    0.5884539
  0.4  3          0.1    0.6               2                 0.55        99      0.8000    0.5756429
  0.4  3          0.1    0.6               2                 0.55       100      0.7920    0.5581939
  0.4  3          0.1    0.6               2                 0.55       101      0.7952    0.5640903
  0.4  3          0.1    0.7               1                 0.45        99      0.8080    0.5867722
  0.4  3          0.1    0.7               1                 0.45       100      0.8096    0.5901813
  0.4  3          0.1    0.7               1                 0.45       101      0.8080    0.5894819
  0.4  3          0.1    0.7               1                 0.55        99      0.7952    0.5616378
  0.4  3          0.1    0.7               1                 0.55       100      0.7984    0.5702454
  0.4  3          0.1    0.7               1                 0.55       101      0.7984    0.5692306
  0.4  3          0.1    0.7               2                 0.45        99      0.8192    0.6144148
  0.4  3          0.1    0.7               2                 0.45       100      0.8144    0.6045889
  0.4  3          0.1    0.7               2                 0.45       101      0.8176    0.6116084
  0.4  3          0.1    0.7               2                 0.55        99      0.8016    0.5733535
  0.4  3          0.1    0.7               2                 0.55       100      0.7968    0.5634136
  0.4  3          0.1    0.7               2                 0.55       101      0.7984    0.5674154
  0.4  3          0.6    0.5               1                 0.45        99      0.7920    0.5543971
  0.4  3          0.6    0.5               1                 0.45       100      0.7920    0.5539615
  0.4  3          0.6    0.5               1                 0.45       101      0.8064    0.5862700
  0.4  3          0.6    0.5               1                 0.55        99      0.7984    0.5698990
  0.4  3          0.6    0.5               1                 0.55       100      0.7968    0.5668926
  0.4  3          0.6    0.5               1                 0.55       101      0.8000    0.5728400
  0.4  3          0.6    0.5               2                 0.45        99      0.8080    0.5864349
  0.4  3          0.6    0.5               2                 0.45       100      0.8048    0.5801866
  0.4  3          0.6    0.5               2                 0.45       101      0.7920    0.5536591
  0.4  3          0.6    0.5               2                 0.55        99      0.8000    0.5712036
  0.4  3          0.6    0.5               2                 0.55       100      0.8080    0.5865977
  0.4  3          0.6    0.5               2                 0.55       101      0.8064    0.5840325
  0.4  3          0.6    0.6               1                 0.45        99      0.7904    0.5543360
  0.4  3          0.6    0.6               1                 0.45       100      0.7888    0.5471223
  0.4  3          0.6    0.6               1                 0.45       101      0.8016    0.5767752
  0.4  3          0.6    0.6               1                 0.55        99      0.8000    0.5701150
  0.4  3          0.6    0.6               1                 0.55       100      0.7968    0.5624274
  0.4  3          0.6    0.6               1                 0.55       101      0.7984    0.5650349
  0.4  3          0.6    0.6               2                 0.45        99      0.7984    0.5649638
  0.4  3          0.6    0.6               2                 0.45       100      0.7936    0.5564593
  0.4  3          0.6    0.6               2                 0.45       101      0.8000    0.5711640
  0.4  3          0.6    0.6               2                 0.55        99      0.8048    0.5835703
  0.4  3          0.6    0.6               2                 0.55       100      0.8144    0.6044045
  0.4  3          0.6    0.6               2                 0.55       101      0.8096    0.5950353
  0.4  3          0.6    0.7               1                 0.45        99      0.8016    0.5772039
  0.4  3          0.6    0.7               1                 0.45       100      0.8048    0.5851602
  0.4  3          0.6    0.7               1                 0.45       101      0.7936    0.5619635
  0.4  3          0.6    0.7               1                 0.55        99      0.8064    0.5895548
  0.4  3          0.6    0.7               1                 0.55       100      0.8096    0.5966714
  0.4  3          0.6    0.7               1                 0.55       101      0.8096    0.5970981
  0.4  3          0.6    0.7               2                 0.45        99      0.8000    0.5720680
  0.4  3          0.6    0.7               2                 0.45       100      0.7952    0.5613857
  0.4  3          0.6    0.7               2                 0.45       101      0.8000    0.5705116
  0.4  3          0.6    0.7               2                 0.55        99      0.8000    0.5739845
  0.4  3          0.6    0.7               2                 0.55       100      0.7936    0.5613344
  0.4  3          0.6    0.7               2                 0.55       101      0.7968    0.5670451
  0.5  1          0.1    0.5               1                 0.45        99      0.8032    0.5763495
  0.5  1          0.1    0.5               1                 0.45       100      0.7936    0.5551323
  0.5  1          0.1    0.5               1                 0.45       101      0.7840    0.5338263
  0.5  1          0.1    0.5               1                 0.55        99      0.7968    0.5661053
  0.5  1          0.1    0.5               1                 0.55       100      0.7968    0.5662083
  0.5  1          0.1    0.5               1                 0.55       101      0.8048    0.5832938
  0.5  1          0.1    0.5               2                 0.45        99      0.7936    0.5567226
  0.5  1          0.1    0.5               2                 0.45       100      0.7952    0.5629058
  0.5  1          0.1    0.5               2                 0.45       101      0.7968    0.5654417
  0.5  1          0.1    0.5               2                 0.55        99      0.8064    0.5850504
  0.5  1          0.1    0.5               2                 0.55       100      0.8080    0.5890217
  0.5  1          0.1    0.5               2                 0.55       101      0.7984    0.5692429
  0.5  1          0.1    0.6               1                 0.45        99      0.7968    0.5628308
  0.5  1          0.1    0.6               1                 0.45       100      0.7968    0.5635390
  0.5  1          0.1    0.6               1                 0.45       101      0.7904    0.5492666
  0.5  1          0.1    0.6               1                 0.55        99      0.8064    0.5848651
  0.5  1          0.1    0.6               1                 0.55       100      0.8096    0.5908818
  0.5  1          0.1    0.6               1                 0.55       101      0.8096    0.5909583
  0.5  1          0.1    0.6               2                 0.45        99      0.8144    0.5998746
  0.5  1          0.1    0.6               2                 0.45       100      0.8112    0.5942978
  0.5  1          0.1    0.6               2                 0.45       101      0.8128    0.5990446
  0.5  1          0.1    0.6               2                 0.55        99      0.7904    0.5435422
  0.5  1          0.1    0.6               2                 0.55       100      0.7936    0.5547012
  0.5  1          0.1    0.6               2                 0.55       101      0.7952    0.5572543
  0.5  1          0.1    0.7               1                 0.45        99      0.8048    0.5867834
  0.5  1          0.1    0.7               1                 0.45       100      0.8032    0.5816360
  0.5  1          0.1    0.7               1                 0.45       101      0.8032    0.5814908
  0.5  1          0.1    0.7               1                 0.55        99      0.7856    0.5393567
  0.5  1          0.1    0.7               1                 0.55       100      0.7792    0.5255469
  0.5  1          0.1    0.7               1                 0.55       101      0.7808    0.5293043
  0.5  1          0.1    0.7               2                 0.45        99      0.8128    0.5976354
  0.5  1          0.1    0.7               2                 0.45       100      0.8144    0.5986222
  0.5  1          0.1    0.7               2                 0.45       101      0.8144    0.6011537
  0.5  1          0.1    0.7               2                 0.55        99      0.8032    0.5783321
  0.5  1          0.1    0.7               2                 0.55       100      0.7968    0.5642749
  0.5  1          0.1    0.7               2                 0.55       101      0.7952    0.5634869
  0.5  1          0.6    0.5               1                 0.45        99      0.8000    0.5725969
  0.5  1          0.6    0.5               1                 0.45       100      0.8000    0.5744279
  0.5  1          0.6    0.5               1                 0.45       101      0.8032    0.5826629
  0.5  1          0.6    0.5               1                 0.55        99      0.7840    0.5400600
  0.5  1          0.6    0.5               1                 0.55       100      0.7888    0.5497872
  0.5  1          0.6    0.5               1                 0.55       101      0.7872    0.5444276
  0.5  1          0.6    0.5               2                 0.45        99      0.7984    0.5672880
  0.5  1          0.6    0.5               2                 0.45       100      0.7968    0.5626342
  0.5  1          0.6    0.5               2                 0.45       101      0.8000    0.5714996
  0.5  1          0.6    0.5               2                 0.55        99      0.7920    0.5531878
  0.5  1          0.6    0.5               2                 0.55       100      0.7984    0.5700373
  0.5  1          0.6    0.5               2                 0.55       101      0.7904    0.5533853
  0.5  1          0.6    0.6               1                 0.45        99      0.8000    0.5698651
  0.5  1          0.6    0.6               1                 0.45       100      0.7872    0.5435998
  0.5  1          0.6    0.6               1                 0.45       101      0.8064    0.5832235
  0.5  1          0.6    0.6               1                 0.55        99      0.7968    0.5675827
  0.5  1          0.6    0.6               1                 0.55       100      0.8000    0.5731900
  0.5  1          0.6    0.6               1                 0.55       101      0.8016    0.5752530
  0.5  1          0.6    0.6               2                 0.45        99      0.8048    0.5859595
  0.5  1          0.6    0.6               2                 0.45       100      0.8048    0.5871449
  0.5  1          0.6    0.6               2                 0.45       101      0.8080    0.5920804
  0.5  1          0.6    0.6               2                 0.55        99      0.8096    0.5921209
  0.5  1          0.6    0.6               2                 0.55       100      0.8064    0.5822818
  0.5  1          0.6    0.6               2                 0.55       101      0.8080    0.5858828
  0.5  1          0.6    0.7               1                 0.45        99      0.7920    0.5532564
  0.5  1          0.6    0.7               1                 0.45       100      0.7952    0.5614666
  0.5  1          0.6    0.7               1                 0.45       101      0.8000    0.5733456
  0.5  1          0.6    0.7               1                 0.55        99      0.8192    0.6140360
  0.5  1          0.6    0.7               1                 0.55       100      0.8144    0.6036613
  0.5  1          0.6    0.7               1                 0.55       101      0.8192    0.6146661
  0.5  1          0.6    0.7               2                 0.45        99      0.8048    0.5786991
  0.5  1          0.6    0.7               2                 0.45       100      0.8080    0.5849150
  0.5  1          0.6    0.7               2                 0.45       101      0.7952    0.5598728
  0.5  1          0.6    0.7               2                 0.55        99      0.8016    0.5749519
  0.5  1          0.6    0.7               2                 0.55       100      0.7968    0.5653279
  0.5  1          0.6    0.7               2                 0.55       101      0.7968    0.5645514
  0.5  2          0.1    0.5               1                 0.45        99      0.8128    0.5989748
  0.5  2          0.1    0.5               1                 0.45       100      0.8096    0.5935491
  0.5  2          0.1    0.5               1                 0.45       101      0.8144    0.6031455
  0.5  2          0.1    0.5               1                 0.55        99      0.8144    0.6027193
  0.5  2          0.1    0.5               1                 0.55       100      0.8064    0.5853639
  0.5  2          0.1    0.5               1                 0.55       101      0.8112    0.5950285
  0.5  2          0.1    0.5               2                 0.45        99      0.8048    0.5845094
  0.5  2          0.1    0.5               2                 0.45       100      0.7984    0.5713613
  0.5  2          0.1    0.5               2                 0.45       101      0.8096    0.5956802
  0.5  2          0.1    0.5               2                 0.55        99      0.8048    0.5799867
  0.5  2          0.1    0.5               2                 0.55       100      0.8048    0.5800400
  0.5  2          0.1    0.5               2                 0.55       101      0.8032    0.5769708
  0.5  2          0.1    0.6               1                 0.45        99      0.7968    0.5632408
  0.5  2          0.1    0.6               1                 0.45       100      0.8016    0.5732302
  0.5  2          0.1    0.6               1                 0.45       101      0.8096    0.5909158
  0.5  2          0.1    0.6               1                 0.55        99      0.7968    0.5649963
  0.5  2          0.1    0.6               1                 0.55       100      0.8032    0.5814555
  0.5  2          0.1    0.6               1                 0.55       101      0.8096    0.5939723
  0.5  2          0.1    0.6               2                 0.45        99      0.8000    0.5687592
  0.5  2          0.1    0.6               2                 0.45       100      0.8000    0.5683392
  0.5  2          0.1    0.6               2                 0.45       101      0.8032    0.5736847
  0.5  2          0.1    0.6               2                 0.55        99      0.8176    0.6083516
  0.5  2          0.1    0.6               2                 0.55       100      0.8176    0.6090571
  0.5  2          0.1    0.6               2                 0.55       101      0.8192    0.6131141
  0.5  2          0.1    0.7               1                 0.45        99      0.8080    0.5868709
  0.5  2          0.1    0.7               1                 0.45       100      0.8032    0.5758353
  0.5  2          0.1    0.7               1                 0.45       101      0.8032    0.5771500
  0.5  2          0.1    0.7               1                 0.55        99      0.8048    0.5822481
  0.5  2          0.1    0.7               1                 0.55       100      0.8032    0.5804910
  0.5  2          0.1    0.7               1                 0.55       101      0.8000    0.5730032
  0.5  2          0.1    0.7               2                 0.45        99      0.7984    0.5707673
  0.5  2          0.1    0.7               2                 0.45       100      0.7952    0.5629595
  0.5  2          0.1    0.7               2                 0.45       101      0.7920    0.5529894
  0.5  2          0.1    0.7               2                 0.55        99      0.8080    0.5901246
  0.5  2          0.1    0.7               2                 0.55       100      0.8064    0.5860440
  0.5  2          0.1    0.7               2                 0.55       101      0.8000    0.5730932
  0.5  2          0.6    0.5               1                 0.45        99      0.7968    0.5673774
  0.5  2          0.6    0.5               1                 0.45       100      0.7968    0.5681916
  0.5  2          0.6    0.5               1                 0.45       101      0.7984    0.5725797
  0.5  2          0.6    0.5               1                 0.55        99      0.7952    0.5640566
  0.5  2          0.6    0.5               1                 0.55       100      0.7936    0.5585354
  0.5  2          0.6    0.5               1                 0.55       101      0.7888    0.5467925
  0.5  2          0.6    0.5               2                 0.45        99      0.7936    0.5542431
  0.5  2          0.6    0.5               2                 0.45       100      0.7952    0.5608133
  0.5  2          0.6    0.5               2                 0.45       101      0.7952    0.5575078
  0.5  2          0.6    0.5               2                 0.55        99      0.8160    0.6039908
  0.5  2          0.6    0.5               2                 0.55       100      0.8096    0.5920139
  0.5  2          0.6    0.5               2                 0.55       101      0.8208    0.6171648
  0.5  2          0.6    0.6               1                 0.45        99      0.8112    0.5949845
  0.5  2          0.6    0.6               1                 0.45       100      0.8000    0.5693836
  0.5  2          0.6    0.6               1                 0.45       101      0.8064    0.5845865
  0.5  2          0.6    0.6               1                 0.55        99      0.8016    0.5750297
  0.5  2          0.6    0.6               1                 0.55       100      0.8000    0.5733590
  0.5  2          0.6    0.6               1                 0.55       101      0.8032    0.5804208
  0.5  2          0.6    0.6               2                 0.45        99      0.8032    0.5786274
  0.5  2          0.6    0.6               2                 0.45       100      0.8096    0.5930928
  0.5  2          0.6    0.6               2                 0.45       101      0.8096    0.5933705
  0.5  2          0.6    0.6               2                 0.55        99      0.8000    0.5716383
  0.5  2          0.6    0.6               2                 0.55       100      0.7968    0.5658482
  0.5  2          0.6    0.6               2                 0.55       101      0.7952    0.5640643
  0.5  2          0.6    0.7               1                 0.45        99      0.7952    0.5666841
  0.5  2          0.6    0.7               1                 0.45       100      0.7936    0.5628605
  0.5  2          0.6    0.7               1                 0.45       101      0.7888    0.5512151
  0.5  2          0.6    0.7               1                 0.55        99      0.8064    0.5841222
  0.5  2          0.6    0.7               1                 0.55       100      0.8096    0.5910420
  0.5  2          0.6    0.7               1                 0.55       101      0.8032    0.5792084
  0.5  2          0.6    0.7               2                 0.45        99      0.8160    0.6048872
  0.5  2          0.6    0.7               2                 0.45       100      0.8144    0.5980613
  0.5  2          0.6    0.7               2                 0.45       101      0.8176    0.6065533
  0.5  2          0.6    0.7               2                 0.55        99      0.8176    0.6101146
  0.5  2          0.6    0.7               2                 0.55       100      0.8048    0.5840427
  0.5  2          0.6    0.7               2                 0.55       101      0.8080    0.5914939
  0.5  3          0.1    0.5               1                 0.45        99      0.8128    0.5978386
  0.5  3          0.1    0.5               1                 0.45       100      0.8160    0.6035074
  0.5  3          0.1    0.5               1                 0.45       101      0.8224    0.6181951
  0.5  3          0.1    0.5               1                 0.55        99      0.7888    0.5512073
  0.5  3          0.1    0.5               1                 0.55       100      0.7888    0.5504228
  0.5  3          0.1    0.5               1                 0.55       101      0.7872    0.5471532
  0.5  3          0.1    0.5               2                 0.45        99      0.8064    0.5876166
  0.5  3          0.1    0.5               2                 0.45       100      0.8160    0.6055529
  0.5  3          0.1    0.5               2                 0.45       101      0.8080    0.5872798
  0.5  3          0.1    0.5               2                 0.55        99      0.7936    0.5607528
  0.5  3          0.1    0.5               2                 0.55       100      0.7984    0.5723670
  0.5  3          0.1    0.5               2                 0.55       101      0.7888    0.5500899
  0.5  3          0.1    0.6               1                 0.45        99      0.8016    0.5758417
  0.5  3          0.1    0.6               1                 0.45       100      0.8032    0.5784385
  0.5  3          0.1    0.6               1                 0.45       101      0.8000    0.5717967
  0.5  3          0.1    0.6               1                 0.55        99      0.8064    0.5873364
  0.5  3          0.1    0.6               1                 0.55       100      0.7984    0.5706933
  0.5  3          0.1    0.6               1                 0.55       101      0.7984    0.5695325
  0.5  3          0.1    0.6               2                 0.45        99      0.7952    0.5638030
  0.5  3          0.1    0.6               2                 0.45       100      0.8032    0.5799274
  0.5  3          0.1    0.6               2                 0.45       101      0.8016    0.5775043
  0.5  3          0.1    0.6               2                 0.55        99      0.8000    0.5715343
  0.5  3          0.1    0.6               2                 0.55       100      0.8000    0.5710062
  0.5  3          0.1    0.6               2                 0.55       101      0.7936    0.5599672
  0.5  3          0.1    0.7               1                 0.45        99      0.7920    0.5584895
  0.5  3          0.1    0.7               1                 0.45       100      0.7904    0.5534373
  0.5  3          0.1    0.7               1                 0.45       101      0.7888    0.5496257
  0.5  3          0.1    0.7               1                 0.55        99      0.8080    0.5961297
  0.5  3          0.1    0.7               1                 0.55       100      0.8128    0.6040817
  0.5  3          0.1    0.7               1                 0.55       101      0.8128    0.6031082
  0.5  3          0.1    0.7               2                 0.45        99      0.7952    0.5607323
  0.5  3          0.1    0.7               2                 0.45       100      0.8016    0.5749702
  0.5  3          0.1    0.7               2                 0.45       101      0.7936    0.5572030
  0.5  3          0.1    0.7               2                 0.55        99      0.8080    0.5865582
  0.5  3          0.1    0.7               2                 0.55       100      0.8112    0.5932810
  0.5  3          0.1    0.7               2                 0.55       101      0.8144    0.5996192
  0.5  3          0.6    0.5               1                 0.45        99      0.8048    0.5821933
  0.5  3          0.6    0.5               1                 0.45       100      0.8000    0.5697399
  0.5  3          0.6    0.5               1                 0.45       101      0.8064    0.5828413
  0.5  3          0.6    0.5               1                 0.55        99      0.8096    0.5928874
  0.5  3          0.6    0.5               1                 0.55       100      0.8128    0.6006056
  0.5  3          0.6    0.5               1                 0.55       101      0.8096    0.5915135
  0.5  3          0.6    0.5               2                 0.45        99      0.8048    0.5814272
  0.5  3          0.6    0.5               2                 0.45       100      0.8016    0.5748128
  0.5  3          0.6    0.5               2                 0.45       101      0.8096    0.5905967
  0.5  3          0.6    0.5               2                 0.55        99      0.8000    0.5719155
  0.5  3          0.6    0.5               2                 0.55       100      0.8048    0.5844191
  0.5  3          0.6    0.5               2                 0.55       101      0.8016    0.5773891
  0.5  3          0.6    0.6               1                 0.45        99      0.7904    0.5521494
  0.5  3          0.6    0.6               1                 0.45       100      0.7984    0.5687816
  0.5  3          0.6    0.6               1                 0.45       101      0.8048    0.5799408
  0.5  3          0.6    0.6               1                 0.55        99      0.7952    0.5695903
  0.5  3          0.6    0.6               1                 0.55       100      0.8016    0.5817920
  0.5  3          0.6    0.6               1                 0.55       101      0.8000    0.5775279
  0.5  3          0.6    0.6               2                 0.45        99      0.7968    0.5603817
  0.5  3          0.6    0.6               2                 0.45       100      0.7968    0.5612484
  0.5  3          0.6    0.6               2                 0.45       101      0.7936    0.5558168
  0.5  3          0.6    0.6               2                 0.55        99      0.8096    0.5919859
  0.5  3          0.6    0.6               2                 0.55       100      0.8144    0.6024666
  0.5  3          0.6    0.6               2                 0.55       101      0.8128    0.5991701
  0.5  3          0.6    0.7               1                 0.45        99      0.7968    0.5695434
  0.5  3          0.6    0.7               1                 0.45       100      0.7936    0.5622803
  0.5  3          0.6    0.7               1                 0.45       101      0.8016    0.5788004
  0.5  3          0.6    0.7               1                 0.55        99      0.7984    0.5742120
  0.5  3          0.6    0.7               1                 0.55       100      0.7968    0.5697453
  0.5  3          0.6    0.7               1                 0.55       101      0.7968    0.5705984
  0.5  3          0.6    0.7               2                 0.45        99      0.8032    0.5769559
  0.5  3          0.6    0.7               2                 0.45       100      0.8064    0.5854369
  0.5  3          0.6    0.7               2                 0.45       101      0.7984    0.5684251
  0.5  3          0.6    0.7               2                 0.55        99      0.8144    0.6060192
  0.5  3          0.6    0.7               2                 0.55       100      0.8128    0.6012620
  0.5  3          0.6    0.7               2                 0.55       101      0.8096    0.5951375

Accuracy was used to select the optimal model using the largest value.
The final values used for the model were nrounds = 101, max_depth = 2, eta = 0.4, gamma = 0.6, colsample_bytree = 0.7, min_child_weight = 2 and subsample = 0.55.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>xgb.tune.fit<span class="sc">$</span>bestTune                                                 <span class="co"># 최적의 초모수 조합값</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    nrounds max_depth eta gamma colsample_bytree min_child_weight subsample
360     101         2 0.4   0.6              0.7                2      0.55</code></pre>
</div>
</div>
<p><code>Result!</code> (<code>eta</code> = 0.4, <code>max_depth</code> = 2, <code>gamma</code> = 0.6, <code>colsample_bytree</code> = 0.7, <code>min_child_weight</code> = 2, <code>subsample</code> = 0.55, <code>nrounds</code> = 101)일 때 정확도가 가장 높은 것을 알 수 있으며, (<code>eta</code> = 0.4, <code>max_depth</code> = 2, <code>gamma</code> = 0.6, <code>colsample_bytree</code> = 0.7, <code>min_child_weight</code> = 2, <code>subsample</code> = 0.55, <code>nrounds</code> = 101)를 가지는 모형을 최적의 훈련된 모형으로 선택한다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 변수 중요도</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>importance <span class="ot">&lt;-</span> xgboost<span class="sc">::</span><span class="fu">xgb.importance</span>(<span class="at">model =</span>  xgb.tune.fit<span class="sc">$</span>finalModel)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>importance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Feature       Gain      Cover  Frequency
    &lt;char&gt;      &lt;num&gt;      &lt;num&gt;      &lt;num&gt;
1:    Fare 0.32508276 0.39859069 0.40370370
2:     Age 0.24472964 0.31555757 0.31851852
3: Sexmale 0.22943973 0.09741137 0.08888889
4: FamSize 0.10861218 0.09341485 0.10740741
5: Pclass3 0.07158805 0.05498747 0.04444444
6: Pclass2 0.02054765 0.04003806 0.03703704</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 변수 중요도 plot</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>xgboost<span class="sc">::</span><span class="fu">xgb.plot.importance</span>(<span class="at">importance_matrix =</span> importance) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><code>Result!</code> 변수 <code>Fare</code>이 Target <code>Survived</code>을 분류하는 데 있어 중요하다.</p>
</section>
<section id="모형-평가" class="level2" data-number="13.7">
<h2 data-number="13.7" class="anchored" data-anchor-id="모형-평가"><span class="header-section-number">13.7</span> 모형 평가</h2>
<p><code>Caution!</code> 모형 평가를 위해 <code>Test Dataset</code>에 대한 <code>예측 class/확률</code> 이 필요하며, 함수 <code>predict()</code>를 이용하여 생성한다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 예측 class 생성 </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>test.xgb.class <span class="ot">&lt;-</span> <span class="fu">predict</span>(xgb.tune.fit,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">newdata =</span> titanic.ted.Imp[,<span class="sc">-</span><span class="dv">1</span>]) <span class="co"># Test Dataset including Only 예측 변수 </span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>test.xgb.class</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] yes no  no  yes no  no  yes no  no  yes no  no  yes yes no  yes no  no  yes no  no  no  no  no  no  no  no  no  yes no  yes no  no  no  no  no  no  no  no  yes no  no  no  yes no  no  no  no 
 [49] yes no  no  no  no  no  no  yes no  no  no  yes no  no  yes no  yes no  no  no  no  no  no  no  no  yes no  no  no  no  no  no  yes no  yes no  no  no  no  no  no  no  no  no  no  yes yes yes
 [97] no  yes no  no  no  yes yes no  yes yes no  yes no  yes yes no  yes no  yes no  yes no  no  no  yes no  no  yes no  yes no  yes no  yes no  yes no  no  yes yes no  no  no  no  yes no  no  no 
[145] yes no  no  no  no  no  no  yes no  no  no  no  no  no  no  no  yes no  yes yes no  yes yes no  no  no  no  no  yes yes yes no  yes no  no  no  no  no  no  yes no  no  no  yes no  yes no  no 
[193] no  no  no  no  no  yes no  no  no  no  no  no  no  no  no  no  yes no  no  yes yes no  no  no  yes yes no  no  no  no  no  yes yes yes no  no  no  no  no  no  no  no  yes no  no  yes no  no 
[241] no  yes no  yes no  yes no  yes no  no  yes no  no  no  no  yes yes yes no  yes no  yes yes no  no  no 
Levels: no yes</code></pre>
</div>
</div>
<p><br></p>
<section id="confusionmatrix" class="level3" data-number="13.7.1">
<h3 data-number="13.7.1" class="anchored" data-anchor-id="confusionmatrix"><span class="header-section-number">13.7.1</span> ConfusionMatrix</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>CM   <span class="ot">&lt;-</span> caret<span class="sc">::</span><span class="fu">confusionMatrix</span>(test.xgb.class, titanic.ted.Imp<span class="sc">$</span>Survived, </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>                               <span class="at">positive =</span> <span class="st">"yes"</span>)       <span class="co"># confusionMatrix(예측 class, 실제 class, positive = "관심 class")</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>CM</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

          Reference
Prediction  no yes
       no  153  34
       yes  11  68
                                          
               Accuracy : 0.8308          
                 95% CI : (0.7803, 0.8738)
    No Information Rate : 0.6165          
    P-Value [Acc &gt; NIR] : 2.211e-14       
                                          
                  Kappa : 0.6263          
                                          
 Mcnemar's Test P-Value : 0.00104         
                                          
            Sensitivity : 0.6667          
            Specificity : 0.9329          
         Pos Pred Value : 0.8608          
         Neg Pred Value : 0.8182          
             Prevalence : 0.3835          
         Detection Rate : 0.2556          
   Detection Prevalence : 0.2970          
      Balanced Accuracy : 0.7998          
                                          
       'Positive' Class : yes             
                                          </code></pre>
</div>
</div>
<p><br></p>
</section>
<section id="roc-곡선" class="level3" data-number="13.7.2">
<h3 data-number="13.7.2" class="anchored" data-anchor-id="roc-곡선"><span class="header-section-number">13.7.2</span> ROC 곡선</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 예측 확률 생성</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>test.xgb.prob <span class="ot">&lt;-</span> <span class="fu">predict</span>(xgb.tune.fit, </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">newdata =</span> titanic.ted.Imp[,<span class="sc">-</span><span class="dv">1</span>], <span class="co"># Test Dataset including Only 예측 변수  </span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">type =</span> <span class="st">"prob"</span>)                  <span class="co"># 예측 확률 생성     </span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>test.xgb.prob <span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  as_tibble</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 266 × 2
       no    yes
    &lt;dbl&gt;  &lt;dbl&gt;
 1 0.0600 0.940 
 2 0.757  0.243 
 3 0.960  0.0397
 4 0.172  0.828 
 5 0.642  0.358 
 6 0.860  0.140 
 7 0.453  0.547 
 8 0.978  0.0223
 9 0.957  0.0431
10 0.0349 0.965 
# ℹ 256 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>test.xgb.prob <span class="ot">&lt;-</span> test.xgb.prob[,<span class="dv">2</span>]                       <span class="co"># "Survived = yes"에 대한 예측 확률</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>ac  <span class="ot">&lt;-</span> titanic.ted.Imp<span class="sc">$</span>Survived                          <span class="co"># Test Dataset의 실제 class </span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>pp  <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(test.xgb.prob)                         <span class="co"># 예측 확률을 수치형으로 변환</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="package-proc" class="level4" data-number="13.7.2.1">
<h4 data-number="13.7.2.1" class="anchored" data-anchor-id="package-proc"><span class="header-section-number">13.7.2.1</span> Package “pROC”</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(<span class="st">"pROC"</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>xgb.roc  <span class="ot">&lt;-</span> <span class="fu">roc</span>(ac, pp, <span class="at">plot =</span> T, <span class="at">col =</span> <span class="st">"gray"</span>)        <span class="co"># roc(실제 class, 예측 확률)</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>auc      <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">auc</span>(xgb.roc), <span class="dv">3</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> auc, <span class="at">bty =</span> <span class="st">"n"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><code>Caution!</code> Package <code>"pROC"</code>를 통해 출력한 ROC 곡선은 다양한 함수를 이용해서 그래프를 수정할 수 있다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 함수 plot.roc() 이용</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.roc</span>(xgb.roc,   </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">col=</span><span class="st">"gray"</span>,                                   <span class="co"># Line Color</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">print.auc =</span> <span class="cn">TRUE</span>,                             <span class="co"># AUC 출력 여부</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">print.auc.col =</span> <span class="st">"red"</span>,                        <span class="co"># AUC 글씨 색깔</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">print.thres =</span> <span class="cn">TRUE</span>,                           <span class="co"># Cutoff Value 출력 여부</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">print.thres.pch =</span> <span class="dv">19</span>,                         <span class="co"># Cutoff Value를 표시하는 도형 모양</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">print.thres.col =</span> <span class="st">"red"</span>,                      <span class="co"># Cutoff Value를 표시하는 도형의 색깔</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">auc.polygon =</span> <span class="cn">TRUE</span>,                           <span class="co"># 곡선 아래 면적에 대한 여부</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">auc.polygon.col =</span> <span class="st">"gray90"</span>)                   <span class="co"># 곡선 아래 면적의 색깔</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 함수 ggroc() 이용</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggroc</span>(xgb.roc) <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">0.9</span>, <span class="at">y =</span> <span class="fl">1.0</span>,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="at">label =</span> <span class="fu">paste</span>(<span class="st">"AUC = "</span>, auc),</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="at">size =</span> <span class="dv">5</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="at">color=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="package-epi" class="level4" data-number="13.7.2.2">
<h4 data-number="13.7.2.2" class="anchored" data-anchor-id="package-epi"><span class="header-section-number">13.7.2.2</span> Package “Epi”</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(<span class="st">"Epi"</span>)       </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install_version("etm", version = "1.1", repos = "http://cran.us.r-project.org")</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ROC</span>(pp, ac, <span class="at">plot =</span> <span class="st">"ROC"</span>)                              <span class="co"># ROC(예측 확률, 실제 class)  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="package-rocr" class="level4" data-number="13.7.2.3">
<h4 data-number="13.7.2.3" class="anchored" data-anchor-id="package-rocr"><span class="header-section-number">13.7.2.3</span> Package “ROCR”</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(<span class="st">"ROCR"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>xgb.pred <span class="ot">&lt;-</span> <span class="fu">prediction</span>(pp, ac)                         <span class="co"># prediction(예측 확률, 실제 class) </span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>xgb.perf <span class="ot">&lt;-</span> <span class="fu">performance</span>(xgb.pred, <span class="st">"tpr"</span>, <span class="st">"fpr"</span>)        <span class="co"># performance(, "민감도", "1-특이도")                      </span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(xgb.perf, <span class="at">col =</span> <span class="st">"gray"</span>)                           <span class="co"># ROC Curve</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>perf.auc   <span class="ot">&lt;-</span> <span class="fu">performance</span>(xgb.pred, <span class="st">"auc"</span>)             <span class="co"># AUC</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>auc        <span class="ot">&lt;-</span> <span class="fu">attributes</span>(perf.auc)<span class="sc">$</span>y.values</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> auc, <span class="at">bty =</span> <span class="st">"n"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="향상-차트" class="level3" data-number="13.7.3">
<h3 data-number="13.7.3" class="anchored" data-anchor-id="향상-차트"><span class="header-section-number">13.7.3</span> 향상 차트</h3>
<section id="package-rocr-1" class="level4" data-number="13.7.3.1">
<h4 data-number="13.7.3.1" class="anchored" data-anchor-id="package-rocr-1"><span class="header-section-number">13.7.3.1</span> Package “ROCR”</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>xgb.perf <span class="ot">&lt;-</span> <span class="fu">performance</span>(xgb.pred, <span class="st">"lift"</span>, <span class="st">"rpp"</span>)       <span class="co"># Lift Chart                      </span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(xgb.perf, <span class="at">main =</span> <span class="st">"lift curve"</span>,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">colorize =</span> T,                                     <span class="co"># Coloring according to cutoff </span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">lwd =</span> <span class="dv">2</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="XGBoost_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./GBM.html" class="pagination-link" aria-label="Gradient Boosting">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Gradient Boosting</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/JJJJYE/ML_book2/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer><script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>